+++
title = "dosbox-staging 0.75.0 Release Notes"
date = 2020-05-03
+++

## The dosbox-staging Project

Copyright © 2020 The dosbox-staging project.

The **dosbox-staging** project was created September 15, 2019 as a
[soft-fork][1] of the SourceForge-based DOSBox project, which is a separate
project having its own schedule and development priorities.

Arm® and Arm7® are trademarks or registered trademarks of Arm Limited (or its
subsidiaries) in the US and/or elsewhere.

Clang and LLVM are copyright the University of Illinois/NCSA and at
Urbana-Champaign, <http://llvm.org>

Coverity® is a registered trademark of SYNOPSYS, INC.

The Free Lossless Audio Codec (FLAC), Opus, Vorbis, and Ogg are copyright of
the Xiph foundation.

The GNU Compiler Collection (GCC) and Git are copyright the Free Software
Foundation, Inc.

IBM®, OS/2™, PowerPC™, POWER8™, LinuxONE™, and S/390™ are trademarks of
International Business Machines Corporation in the United States and other
countries.

Intel®, Core™, and Pentium™ are trademarks or registered trademarks of Intel
Corporation or its subsidiaries in the United States and other countries.

Linux® is the registered trademark of Linus Torvalds in the U.S. and other
countries.

Mac™ and macOS™ are trademarks of Apple Inc., registered in the United States
and other countries.

OpenGL® and OpenGL® ES are trademarks or registered trademarks of Hewlett
Packard Enterprise in the United States and/or other countries worldwide.

Windows®, Windows XP®, DirectDraw®, and Visual Studio® are registered
trademarks of Microsoft Corporation in the United States and other countries.

Vulkan® and WebGL™ are a registered trademarks of the Khronos Group Inc.

## Abstract

These release notes summarize the changes made to dosbox-staging since the
project's inception through to the release of version 0.75.0. This includes:

- feature changes, including those added and removed,
- known issues, and
- workflow changes visible to contributors.

## Table of Contents

- [1. Introduction](#introduction)
- [2. Overview of Changes](#overview)
  - [2.1. Summary of New Features](#summary-new-features)
  - [2.2. Removed Features](#removed)
  - [2.3. Developmental Changes](#developer-features)
  - [2.4. Known issues](#known-issues)
  - [2.5. Changes per Author](#author-tally)
- [3. New Features in Detail](#new-features)
  - [3.1. Upgrade to SDL 2.0](#sdl2)
  - [3.2. Support FLAC, Opus, Vorbis, and MP3 CD-DA tracks](#cdda)
  - [3.3. Pixel-perfect scaling mode](#pp)
  - [3.4. AUTOTYPE command](#autotype)
  - [3.5. Changed rendering defaults](#rdef)
  - [3.6. Expand mouse control methods](#mouse)
  - [3.7. Nuked OPL v1.8](#nuked)
  - [3.8. Resizable window](#resizable)
  - [3.9. CONFIG command improvements (Git, SVN)](#config)
  - [3.10. Configuration file locations](#xdg)
  - [3.11. 64-bit dynarec (SVN)](#dynarec)
  - [3.12. GLSL shader support (SVN)](#glsl)
  - [3.13. DATE and TIME commands (SVN)](#date)
  - [3.14. CGA emulation improvements (Git, SVN)](#cga)
  - [3.15. Mount overlay support (SVN)](#overlay)
- [4. Changelog](#changelog)
  - [4.1. dosbox-staging](#changelog-git)
  - [4.2. Community patches and libraries](#changelog-libs)

## <a name="introduction" href="#introduction">§</a> Introduction

This document contains the release notes for dosbox-staging 0.75. It describes
recently added, changed, or deleted features of dosbox-staging.

All users are encouraged to consult the ***New Features in Detail*** and
***Known Issues*** sections before using `dosbox-staging`, as these describe
important interface changes as well as information discovered late in the
release cycle or after the release.

The release packages to which these release notes apply represents the
latest point along the 0.75 development branch. Information regarding
pre-built, binary releases for this branch can be found at:

- [Linux](/downloads/linux/) (or [Steam on Linux](/downloads/linux#steam))
- [Windows](/downloads/windows/)
- [macOS](/downloads/macos/)

## <a name="overview" href="#introduction">§</a> Overview of Changes

The **dosbox-staging 0.75** development cycle lasted roughly eight months
starting with the creation of the project mid-September 2019 and concluded
early May 2020.

### <a name="summary-new-features" href="#summary-new-features">§</a> Summary of New Features

- Migrated from Simple DirectMedia Layer (SDL) version 1.2.x to 2.0, which:
  - Enabled support for the Wayland display protocols
  - Enabled hardware-acceleration for OpenGL ES 1 and 2 devices on ARM
    platforms.
- Added support for CD-ROM Digital Audio (CD-DA) tracks compressed using the
  Free Lossless Audio Codec (FLAC), Opus, and Moving Picture Experts Group
  (MPEG) 2 Audio Layer III (MP3) audio codecs.
- Added hardware-accelerated pixel-perfect output.
- Added the ability to resize the window.
- Added the cycle-accurate Nuked Operator Type-L 3 (OPL3) emulator.
- Added Color Graphics Adapter (CGA) mono-color mode.
- Added phonebook support, to map modem phone-numbers to Internet hostnames.
- Added the AUTOTYPE command, which can perform scripted keyboard input on your
  behalf.

These are expanded upon in the following subsections.

### <a name="removed" href="#removed">§</a> Removed Features

- dosbox-staging does not run on Operating System/2 (OS/2) or derivatives.
- dosbox-staging does not run on Windows older than XP.
- Removed support for old DirectDraw (`ddraw`) output.  
  Use `output = texture`, `texture_renderer = directx11` instead.
- Removed support for old `overlay` output. Use any other output.
- Removed support for relative window size (`windowresolution = X%`).
- Removed support for 64-bit Zip Motion Blocks Video (ZMBV) codec (old 32-bit
  codec still works).
- Removed support for CD-DA playback from physical disks. It is
  still possible to install games distributed on CDs by mounting them as
  directories. See [#260][260].
- Removed CD-DA playback support for tracks using the Audio Interchange File
  Format[AIFF][aiff] audio codec.

[260]: https://github.com/dosbox-staging/dosbox-staging/issues/260
[aiff]: https://en.wikipedia.org/wiki/Audio_Interchange_File_Format

### <a name="developer-features" href="#developer-features">§</a> Developmental Changes

- Migrated the DOSBox source from Apache's Subversion (SVN) software versioning
  and revision control system to the Git distributed version-control system
  with GitHub, preserving all publicly available project history.
  - Active SVN branch paths were imported as Git branches (named`svn/<name>`).
  - SVN tag paths were imported as Git lightweight tags (named
    `svn/<tag-name>`).
- Ongoing upstream SVN development work is being imported in a timely manner to
  the Git branch named `svn/trunk`.
- Began the migration to and allowance for C++11 language constructs.
- Implemented a Continuous Integration (CI) system that builds on every code
  push, providing developers immediate feedback regarding build-success and
  warning-counts on:
  - Windows x86_64 using GCC 32 and 64-bit, Clang 32 and 64-bit, and
    VisualStudio 64-bit compilers
  - macOS x86_64 using GCC and Clang compilers
  - Linux x86_64, ARMv6, ARMv7, IBM LinuxONE, and IBM POWER8 platforms using
    various versions of GCC and Clang
- Added static analysis checks performed by LLVM's Clang, Synopsys's Coverity,
  and VIVA64's Program Verification Systems (PVS) Studio.
- Added dynamic analysis checked performed by Clang's undefined-behavior (UB)
  sanitizer and GCC's UB and Address sanitizers.
- The CI system includes gated checks that allow maintainers to focus on code
  functionality and correctness. These automated checks guarantee that new
  code:
  - builds clean on all supported platforms and compilers,
  - adds no new compiler warnings, and
  - adds no new static or dynamic analysis issues.
- Notable progress has been made in reducing the number of warnings and
  analysis issues flagged by these tools.
- *Windows*: the build-system was adjusted to allow easy compilation, without
  manual download or patching of dependencies. We use `vcpkg` to manage
  dependencies. The solution file was fixed to work with Visual Studio 2019.
- *Linux and macOS*: implemented a number of small build-system improvements.
- Automated the compilation of release-style builds against the latest master
  and feature branches. These not only save time for testers wanting to verify
  new features and bugfixes, but also ensures they're running builds compiled
  using would-be release settings.
- macOS release binaries are compiled with optimizations supporting Intel
  Nehalem-based instructions (and newer), as this matches the minimum hardware
  requirements of macOS Catalina.
- Release packages are scanned using up-to-date Antivirus software: ClamAV for
  Linux and macOS, and Windows Defender for Windows.
- The project has published a code of conduct along with clear contributing
  guidelines.

### <a name="known-issues" href="#known-issues">§</a> Known issues

- Inconsistent minimum window size with `windowresolution = resizable` when
  leaving fullscreen.
- Windows, macOS: Window content is not refreshed when resizing.
- Windows, macOS: Emulation stops when moving or resizing window.
- Linux: Wayland crashes (Wayland support is "experimental" at the moment)
- Linux: Splash screen is sometimes transparent or corrupted on KDE

Our bug-tracker: [github.com/dosbox-staging/dosbox-staging/issues][issues]

[issues]:https://github.com/dosbox-staging/dosbox-staging/issues

### <a name="author-tally" href="#author-tally">§</a> Summary of Contributions

During the **dosbox-staging 0.75** development period:

- **11 dosbox-staging contributors** submitted **208** pull requests comprised
  of **735** commits written by **18 authors**.
- **69 dosbox-staging issues** were reported and addressed.
- **54 dosbox-staging wiki updates** were made.
- **Three DOSBox maintainers** committed **76** changes written by **five**
  authors. These changes have been incorporated into **dosbox-staging**.

This combined work is attributed to the following authors, in alphabetic order:

| Author | Commits | Issue-Reports | Wiki-Updates |
|---|---| --- | --- |
| Alexey Khokholov | 1 |  |   |
| Anton Shepelev (ant-222) | 4 |   |   |
| amak79 | | 1 |   |
| Arthur Ouellet | 1 |   |   |
| bruenor41 | 1 |   |   |
| cfoesch | 1 |   |   |
| datapackrat | | 2 |   |
| David Reid | 15 |   |   |
| DOOMMARINE117 | | 2 |   |
| dugan | 1 |   |   |
| GranMinigun | | 2 |   |
| gulikoza | 3 |   |   |
| James-F2 | | 1 |   |
| jlopezvil | | 1 |   |
| jmarsh | 5 |   |   |
| Jonathan Campbell | 4 |   |   |
| Joshua Fern | 1 |   | 2 |
| kas1e | | 6 |   |
| kcgen | 252 | 29 | 11 |
| KJ Liew | 2 |   |   |
| LowLevelMahn | | 1 |   |
| Magnus Henoch | 2 |   |   |
| mdmallardi | | 1 |   |
| Marco Maccaferri | 1 |   |   |
| Michael Zijlstra | 1 |   |   |
| MozzarellaM | | 1 |   |
| nemo93 | | 4 | 30 |
| NicknineTheEagle | 5 | 2 |   |
| Nopey Nope | 1 |   |   |
| nukeykt | 4 |   |   |
| numberZero | 1 | 2 |   |
| NY00123 | 2 |   |   |
| Oldman | 1 |   |   |
| Patrick McMorris | 2 |   |   |
| Patryk Obara | 442 | 11  | 10 |
| Peter Veenstra | 68 |   |   |
| rderooy | | 1 | 1 |
| richard-gravy | | 2 |   |
| ripa | 2 |   |   |
| ripsaw8080 | 7 |   |   |
| Ryan C. Gordon | 1 |   |   |
| Sean Barrett | 1 |   |   |
| sergm | 3 |   |   |
| Sjoerd van der Berg | 2 |   |   |
| Troy Campbell | 1 |   |   |
| Tyrell Sassen | 1 |   |   |
| VileRancour | 1 |   |   |
| Wengier W | 2 |   |   |
| Wouter Wijsman | 3 |   |   |
| Yann Collet | 2 |   |   |
| Yesterplay80 | 3 |   |   |
| Zapeth | 2 |   |   |

We are extremely grateful for all contributions including the invaluable
improvements merged in from the DOSBox project. Thank you!

## <a name="new-features" href="#new-features">§</a> New Features in Detail

### <a name="sdl2" href="#sdl2">§</a> Upgrade to SDL 2.0

SDL 2.0 is a major update to the SDL 1.2 codebase, which has been unmaintained
since 2013. SDL 2.0 supports more input devices; more output interfaces such as
Wayland, and OpenGLES 1 and 2; low-latency audio using OpenSL ES; and improves
cross-platform consistency.

The migration to SDL 2.0:

- dropped 3,211 lines of SDL 1.2 code in place of 1,664 lines, for just
  under a 50% reduction in code-size.
- eliminated several OS-specific branches and all SDL1-specific kludges.
- eased support for modern graphic APIs, and opened the field for new features
  and improvements.

One example includes a new `output` mode named `texture`, which uses SDL 2D
hardware-accelerated drawing API with one of platform-specific backends.

For example, Windows users can use:

``` ini
[sdl]
output           = texture
texture_renderer = direct3d11
```

macOS users can try Metal:

``` ini
[sdl]
output           = texture
texture_renderer = metal
```

and everyone can use OpenGL as texture backend:

``` ini
[sdl]
output           = texture
texture_renderer = opengl
```

Or just use `texture_renderer = auto` to pick the backend appropriate for your
Operating System.

## <a name="cdda" href="#cdda">§</a> Support FLAC, Opus, and MP3 CD-DA tracks

FLAC, Opus, and MP3 (as well as MP2 and MP1)-encoded audio can be `imgmount`ed
as CD-DA tracks in dosbox-staging, in addition to the usual WAV and Vorbis
tracks as supported by DOSBox. WAV support has also been expanded to include
Sony's Wave64 format.

All track types (including WAV and Vorbis) support various resolutions, such as
24 and 16-bit; sampling rates of 96, 88.2, 48, 44.1, 22.05, and 11.025 kHz; and
stereo or mono channel counts. These can be mixed-and-matched as desired to
optimize the encoding type for each track's content.

The following example CUE file shows to specify the new types:

``` cue
FILE "data.iso" BINARY
  TRACK 01 MODE1/2048
    INDEX 01 00:00:00

FILE "track02.opus" OPUS
  TRACK 02  AUDIO
    PREGAP 00:02:00
    INDEX 01 00:00:00

FILE "track03.flac" FLAC
  TRACK 03 AUDIO
    INDEX 01 00:00:00

FILE "track04.mp3" MP3
  TRACK 04 AUDIO
    INDEX 01 00:00:00

FILE "track05.w64" W64
  TRACK 05 AUDIO
    INDEX 01 00:00:00

FILE "track06.ogg" OGG
  TRACK 06 AUDIO
    INDEX 01 00:00:00
```

For devices with sufficient storage, we recommend ripping your CD-ROM
audio to (lossless) FLAC tracks, and adding seek-points using:

``` shell
flac -8 --output-name=trackXY.flac trackXY.wav
metaflac --add-seekpoint=1s trackXY.flac
```

For portable or limited-storage devices, such as ARM single-board computers,
Opus provides state-of-the-art lossy compression that exceeds all other formats
including Apple's AAC and AAC High-Efficiency formats. Opus allows you to save
almost twice as much space as MP3 or Vorbis.

For example, tracks that contain mono-channel voice-only can be encoded with:

``` shell
opusenc --speech --bitrate 24 --downmix-mono trackXY.wav trackXY.opus
```

A bitrate between 54 and 70 is sufficient for mixed audio and simple music,
while a bitrate of 84 can be used for more complex audio tracks. Experient and
find that sweet spot!

``` shell
opusenc --bitrate 70 trackXY.wav trackXY.opus
```

If your CD-DA tracks are encoded at 48 kHz (which is Opus's defaults
internal rate), then feel free to configure `dosbox-staging`'s mixer rate
to 48 kHz, which ensures your CD-DA will not be resampled during playback
through your entire audio chain as your sound card, USB speakers, and HDMI
interface all (likely) use a digital audio converter (DAC) operating natively
at 48 kHz.

``` ini
[mixer]
rate = 48000
```

### <a name="pp" href="#pp">§</a> Pixel-perfect scaling mode

Pixel-perfect output scales the image by the largest integer multiplier
that fits within your monitor's native resolution. For example, given a
1920x1080 monitor resolution and a game requiring aspect-correction, each
of its 320x200 game requiring pixels would be scaled by 4x5, producting a
1280x1000 image. This preserves the original artwork without *any* edge
blurriness.

To enable pixel-perfect output, apply the following settings to the
indicated `[section]`s of your dosbox-staging configuration file, as
follows:

``` ini
[sdl]
fullscreen = true
output     = texturepp

[render]
scaler   = none
glshader = none
```

On 1080p screen it looks like this:

[![HoMM2](/homm2-pp-2x2-min.png)][homm2pp]

Heroes of Might and Magic 2 (1996)  
640x480 with [PAR][par] 1:1, upscaled 2x2

[![Wolf3D](/wolf3d-pp-4x5-min.png)][wolf3dpp]

Wolfenstein 3D (1992)  
320x200 with PAR 1:1.2 (non-square pixels), upscaled 4x5 to PAR 1:1.25

[par]: https://en.wikipedia.org/wiki/Pixel_aspect_ratio
[homm2pp]: /homm2-pp-2x2.png
[wolf3dpp]: /wolf3d-pp-4x5.png


### <a name="resizable" href="#resizable">§</a> Resizable window

Resizable window is not a revolutionary feature in any way, but a welcome addition
to the emulator, that never had ability to change window size using a mouse ;)

{{ youtube(id="9J2U-qFxE1E", class="youtube") }}

This feature is work-in-progress - at the moment it's enabled only on Linux.

Windows and macOS users can opt-in and test it (but it does not work correctly
on these systems yet):

```
[sdl]
windowresolution = resizable
```

Resizable window works only with `output = opengl` and `glshader = sharp`.
Support will be expanded to more outputs and shaders in the future versions.


### <a name="autotype" href="#autotype">§</a> AUTOTYPE command

`AUTOTYPE` performs scripted keyboard entry into the running DOS program.

It can be used to reliably skip intros, answer Q&A style questions that some
games ask on startup, or conduct a simple demo.

Run this command to read usage:

``` shell
Z:> autotype -h
```

Some examples are listed in [dedicated wiki article][autotype].

[autotype]: https://github.com/dosbox-staging/dosbox-staging/wiki/AUTOTYPE-Candidates

### <a name="rdef" href="#rdef">§</a> Changed rendering defaults

A number of default configuration settings were changed to provide better
out-of-the box experience.

The defaults pick up OpenGL as default rendering backend, targetting 4:3 screen
aspect ratio, and using `sharp` GLSL shader to provide "sharp bi-linear" scaling
effect:

[![Battle Chess](/bc.png)](/bc.png)

Battle Chess (1988) on 1080p screen with default dosbox-staging settings


### <a name="mouse" href="#mouse">§</a> Expand mouse control methods

Old option for "autolocking" mouse was replaced with new `capture_mouse` option
providing a two-value setting. This way users have more control over the mouse
behaviour inside the emulator.

The first value defines how the mouse is controlled:

- `onclick` - The mouse will be captured with a click inside the window.
- `onstart` - The mouse is captured immediately on start (similar to real DOS).
- `seamless` - The mouse will move seamlessly in and out of DOSBox and cannot
  be captured.
- `nomouse` - The mouse is disabled and hidden without any input sent to the
  game.

The second value defines how middle-clicks are handled:

- `middlegame` - Middle-clicks are sent to the game (not used to uncapture
  the mouse).
- `middlerelease`- Middle-click will uncapture the mouse when windowed (not
   sent to the game).

For example:
```
[sdl]
capture_mouse = onclick middlerelease
```
Will make mouse cursor captured on the first click inside a dosbox window, and release
on middle-click (old method of releasing cursor with Ctrl-F10 still works).

*These options do not affect mouse behaviour in fullscreen; when switched to
fullscreen using Alt-Enter, mouse is always captured.*


### <a name="nuked" href="#nuked">§</a> Nuked OPL v1.8

An excellent [OPL3][opl] "Nuked" emulator is used by default. This change improves
AdLib and SoundBlaster music emulation accuracy in many games.

Improved emulation quality comes at a cost of slightly higher CPU usage. For the
vast majority of users it will not be a problem, but e.g. Raspberry Pi enthusiasts
might prefer to switch to one of older emulators (see documentation for `oplemu` in
the configuration file).

[opl]: https://en.wikipedia.org/wiki/Yamaha_YMF262


### <a name="config" href="#config">§</a> CONFIG command improvements

Built-in `CONFIG` shell command is old, but a little-known feature allowing user to
reconfigure dosbox-staging at runtime.  This is a nifty way to change configuration using
e.g. batch scripts based on user input.

#### Reloading key bindings

User can now change key bindings at runtime by loading them from a file:

``` shell
Z:\> config -set "sdl mapperfile=<path-to-file>"
```

#### Other new options (SVN)

Upstream added a number of features to this command, to list them all run:

``` shell
Z:\> config /?
```


### <a name="xdg" href="#xdg">§</a> Configuration file locations

#### Linux

The path for configuration files was changed according to
[XDG Base Directory Specification][xdg]. This means dosbox-staging is not going
to create configuration directories directly in your home directory any more.

Configuration files are created in:

``` text
~/.config/dosbox/
```

Users can override it via `XDG_CONFIG_HOME`, according to [spec][xdg].

[xdg]: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html

#### macOS

The path was slightly changed to avoid spaces in the default configuration
filename and group all configuration files in a single directory:

``` text
~/Library/Preferences/DOSBox/
```

#### Windows

*No changes; the configuration files are created in:*

``` text
C:\Users\<username>\AppData\Local\DOSBox\
```


### <a name="dynarec" href="#dynarec">§</a> 64-bit dynarec (SVN)

DOSBox had [dynamic recompilation][dynarec] support for a long time, but it was
limited only to 32-bit builds.  Support for 64-bit dynarec improves CPU emulation
speed and quality across the board - this is especially visible to Linux and macOS
users<sup>＊</sup>.

{{ youtube(id="9N-wXIamSh4", class="youtube") }}

Stargunner (1996) freeware; running on Linux x86\_64 via Boxtron

*Before 64-bit dynarec, this game had serious emulation problems resulting in
fluctuating emulation speed (sometimes too fast, sometimes too slow - regardless of
cycles settings). This game was designed to run with constant 70FPS and now it
runs with constant 70FPS.*

[dynarec]: https://en.wikipedia.org/wiki/Dynamic_recompilation

<sup>
＊ - dosbox-staging 0.75.0 stable Windows build is still 32-bit; Linux and
macOS builds are 64-bits.
</sup>

### <a name="cga" href="#cga">§</a> CGA improvements

[![CGA modes comparison](/cga-showcase-1-min.png)][cga4]

[cga4]:/cga-showcase-1.png

Maniac Mansion (1987), with forced CGA mode

- *top-left: CGA, default palette*
- *top-right: CGA/mono, green tint selected*
- *bottom-left: CGA Composite, early model, default hue*
- *bottom-right: CGA Composite, late model, default hue*

#### CGA monochrome mode

Some [CGA][cga] games from 80's look much better with monochrome display;
this mode is designed to emulate such setup.

Use `machine = cga_mono`

*User can switch between green, amber, white, and paper-white tints at
runtime using&nbsp;F11.*

[cga]: https://en.wikipedia.org/wiki/Color_Graphics_Adapter

#### CGA Composite mode (SVN)

[Composite][comp] mode to  CGA emulation was introduced in SVN very
long time ago (in 2012), but was never back-ported to any stable release.
Most users know this mode from other DOSBox forks.

User can switch between Color and Composite mode, between CGA early and late
models, and adjust hue (all at runtime).

*The default keyboard binds for manipulating CGA modes conflict with
other essential binds. It's advisable to change them, if you plan to play
with this. The default key for turning on composite is F12.*

[comp]: https://en.wikipedia.org/wiki/Composite_artifact_colors


### <a name="glsl" href="#glsl">§</a> GLSL shader support (SVN)

[GLSL][glsl] shaders provide a HW-accelerated alternative to old (software-based)
DOSBox "scalers". They also allow for emulating CRT-like effects (e.g. scanlines or
shadow masks).

User can adjust shader setting in `render` section in the configuration file:

```
[render]
glshader = sharp
```

It's also possible to provide your own shader implementations by placing `.glsl`
file in the configuration directory and selecting it in the configuration file, e.g.:

Place `test.glsl` file in the configuration directory:

```
(Linux)   ~/.config/dosbox/glshaders/
(macOS)   ~/Library/Preferences/DOSBox/glshaders/
(Windows) C:\Users\<username>\AppData\Local\DOSBox\glshaders\
```
And select it in the configuration file:
```
glshader = test.glsl
```

[![X-Wing Collector's Edition](/xwingce-lottes.png)][lottes]

STAR WARS™ - X-Wing: Collector's CD-ROM Edition (1994)

*Using CRT-Lottes shader on 1080p screen; click to see the fine details.
This shader is not bundled with dosbox-staging (yet), you can download it
from [here][tyrells].*

[glsl]: https://en.wikipedia.org/wiki/OpenGL_Shading_Language
[lottes]: /xwingce-lottes.png
[tyrells]: https://github.com/tyrells/dosbox-svn-shaders


### <a name="date" href="#date">§</a> DATE and TIME commands (SVN)

Commands emulating DOS `DATE` and `TIME` utilities were added. User can
change date inside a dosbox:

``` shell
Z:\> date
Current date: Fri 05/01/2020
Type ´date MM-DD-YYYY´ to change.

Z:\> time
Current time: 11:08:23,34
```

This feature is useful for running old batch scripts and bypassing date checks
in some old software.


### <a name="overlay" href="#overlay">§</a> Mount overlay support (SVN)

This feature allows user to transparently redirect new and changed files
to a different location. The files in the overlay and normal drive are merged
on startup and kept up to date when the game writes something.

This feature is useful for redirecting save files or configuration files
to a different location (e.g. for backup or cloud saves).

Example usage:
```
Z:\>mount C real
Drive C is mounted as local directory real/
Z:\>mount C backup -t overlay
Overlay backup/ on drive C mounted.
C:
C:\>echo foo > test.txt
C:\>type TEST.TXT
foo
```
File `TEST.TXT` is written to directory `backup`, and not to `real`.

## <a name="changelog" href="#changelog">§</a> Changelog

### <a name="changelog-git" href="#changelog-git">§</a> Changes in dosbox-staging

This is Git shortlog (edited to remove some administrative changes).
Git users can re-create raw shortlog with:
`git shortlog ^svn/trunk ^v0.75.0-pre v0.75.0-rc1`

TODO inject commits after rc1

Use `git log --grep="subject"` to learn more about specific change.

``` text
ant-222:
      Add output type texturepp for pixel-perfect scaling
      Include <ctype.h> to declare toupper()
      Add a missing include of stdio.h for snprintf()
      Provide aclocal with the path to additional .m4 files

Joshua Fern:
      Update copyright dates to 2020

Marco Maccaferri:
      Fix handling of escape characters in softmodem

NicknineTheEagle:
      Fix a bug with backspace handling in modem
      Implement DTR drop actions (&Dn) and DTR drop delay (S25) in modem
      Fix auto-answer (S0) behavior in modem
      Implement phone book to remap phone numbers to addresses for modem
      Describe phonebook feature in the manual

Nopey Nope:
      Add and document KeyMapper reloading

Patrick McMorris:
      Enable parallel builds in VS for all configs
      Organize files in VS solution

Wouter Wijsman:
      Add desktop file for Linux
      Updated desktop file
      Added Emulator category to desktop file

numberZero:
      Use sh-compatible syntax in configure.ac

Patryk Obara:
      Add a script for importing svn:ignore props
      Import svn:ignore props to .gitignore files
      Implement unifdef-all script
      Use "git" to identify builds from master branch
      Create initial GitHub Workflows setup
      Enforce limit on issues found in static analysis
      Update package repositories before build
      Simplify build workflow
      Upgrade dosbox-staging solution and project to VS2019
      Upgrade zmbv solution and project to VS2019
      Transform zmbv into a project inside dosbox-staging solution
      Add alternative for git-log for SVN users
      Replace an authorsfile with a script
      Log environment on CI machines
      Implement frames/MSF conversion as functions
      Replace MSF_TO_FRAMES, FRAMES_TO_MSF macros
      Prevent potential null pointer dereference
      Add dosbox-staging splash screen graphic in vector format
      Use apt-get instead of apt
      Create a wrapper for MSYS2 bash CI environment
      Use macos-latest and windows-latest in CI jobs
      Explicitly use C++11 for compilation
      Add cases for missing SynthMode enumerations
      Add asserts to prevent a potential bug
      Change module documentation to a raw string
      Remove unnecessary use of a comprehension
      Remove unused bash variable
      Rename workflow file for static code analysis
      Run fast script linters before heavier analysis
      Propagate return code in the msys2 bash wrapper
      Remove -DWIN32 from build.sh
      Fix order of includes in Windows-specific files
      List files before running linters
      Force python3 pylint
      Colorize linter output
      Fix unused-function warning
      Remove unused function
      Remove unused variable
      Remove SpeexDSP mention from the documentation
      Properly fix warnings about unused variable
      Avoid passing null to strcat
      Remove several unused variables in zmbv
      Fix several unused-private-field warnings
      Use make's output-sync to prevent log corruption
      Document the project in README.md
      Fix a resource leak
      Remove pointless switch causing warnings
      Use full-width asterisk glyph for README.md notes
      Change the length of version field in infobox
      Fix "misleading-indentation" warnings
      Fix "unused-variable" warning
      Remove unused private field in fatFile
      Remove unused private field in device_EMM
      Use matrix to simplify Linux workflow
      Remove Coverity badge
      Break compilation to test GitHub badges
      Test shields.io badges
      Test badges sans links
      Revert "Test badges sans links"
      Fix badge URLs
      Revert "Break compilation to test GitHub badges"
      Enable Coverity "streams"
      Revert "Enable Coverity "streams""
      Move definition out of autoconfig
      Fix wrong function name in the exception log
      Move autoconfig-mandated files to docs/upstream
      Create Linux dev release job
      Add snapshot instructions to README.md
      Create package-specific README file
      Replace version with brand for .conf file suffix
      Use fixed name for a GitHub-generated zip
      Test if double-zip is detected
      Revert "Test if double-zip is detected"
      Use python explicitly in pwsh
      Rename directory with Visual Studio solution
      Reorganize Windows workflow file
      Create Windows dev release job
      Update version in config.h and resource script
      Update optimization level for Release in VS builds
      Add Windows snapshot instructions to README.md
      Add more files to Windows snapshots
      Create "Inject version" step for Linux release job
      Invalidate MSYS2 cache based on week number
      Add CFLAGS to Linux release job
      Remove code ifdefed for OS/2
      Reformat the enum with CD-ROM interfaces
      Remove ASPI CD-ROM interface
      Remove files used only by ASPI support
      Fix out-of-bounds access error
      Fix usage of uninitialized value in dos_mscdex
      Add URLs for branches to README.md
      Add an option to group warnings by files
      Add an option to list all warnings
      Reverse sort by count and item name in the summary
      Avoid libpng 1.2 dependency for Ubuntu releases
      Remove MCI, DX, and DIO CD-ROM interfaces
      Display a warning when user requests -ioctl
      Remove inaccurate information from INTRO
      Remove SDL_cdrom 1.2 based CD-ROM interfaces
      Remove all physical CD-ROM references from manual
      Update INTRO CDROM text
      Remove CDROM_USE_SDL enum value
      Remove dead code for force selecting CD drive
      Introduce MountType enum for CDROM_GetMountType
      Create dos_mscdex header
      Move GetMountType to dos_mscdex file
      Add user-visible warnings about removed options
      Fix a number of effc++ warnings
      Update MSF conversion functions
      Remove PHYSICAL_CD from MountType enum
      Use shared_ptr to prevent double free on imageDisk
      Simplify swapInDisks function
      Remove extern global variable from bios_disk.h
      Display newline after key was pressed in 'pause' cmd
      Do not print newline after every command
      Adjust 'help /all' to fixed 'pause'
      Fix output formatting of 'dir' command
      Update build-system to target SDL2
      Update CI to target SDL2
      Update fake SDL headers for MSVC
      Update VS solution to target SDL2
      Fix warnings related to misuse of SDL2 types
      Reorder includes in sdl_mapper
      Remove last remains of DirectDraw renderer
      Remove patch for SDL1 sources
      Update the list of output values in README
      Update SDL2 description in INSTALL file
      Remove GFX_SetPalette
      Update README.md with SDL2 information
      Re-enable screenshots feature for snapshot builds
      Fix large number of effc++ warnings in sdl_mapper
      Remove reference to SDL 1.2 Caps Lock hack
      Update note about CD-DA support
      Remove irrelevant ifdefs from unifdef-all script
      Indicate system includes for relevant SDL headers
      Surround WIN32_LEAN_AND_MEAN with ifndef
      Change sdl.renderer to sdl.texture_renderer
      Query SDL for available texture renderers
      Remove note about additional dependencies.
      Remove unused macro definitions
      Fix conversion warnings after SDL2 transition
      Print volume/drive label in 'dir' cmd
      Fix output of 'dir /w /p' and edge cases
      Fix a number of effc++ warnings in shell code
      Hide SoundBlaster autoexec line
      Add an assert in 'choice' command
      Print a newline after user makes a choice
      Print a newline after 'path' command
      Disable unused function in adlib
      Move 'likely' macros to the compiler support header
      Add missing headers to autoconfig file
      Remove unnecessary check for XKBlib.h
      Move GCC_ATTRIBUTE out of autoconf
      Stop silencing deprecation warnings in MSVC
      Stop silencing 'throw' warnings in MSVC
      Stop silencing disabled C4786 MSVC warning
      Remove unused functions in cpu area
      Update copyright line in several scripts
      Remove false friend declarations
      Fix effc++ warnings in drives.cpp
      Move drives.h to common include dir
      Use correct type for printf field size specifier
      Fix effc++ warnings in adlib code
      Prevent unaligned memory access in adlib
      Move nukedopl to libs
      Add nuked to main VS project file
      Update NukedOPL::Handler to C++11
      Include only necessary headers in nukedopl
      Simplify creation of OPL handler
      Adjust formatting of sblaster section in .conf file
      Mention nuked in README.md
      Remove unused RAW_SIZE define
      Redefine fileno for Windows
      Fix format warnings in fpu
      Prevent resource leak during screenshot
      Make setter for RO-medium flag a virtual method
      Avoid switch warnings in SetVideoMode* functions
      Cleanup int10 includes in ints module
      Fix MSVC stricmp-related warnings
      Bundle autoconf ax_cxx_* macros
      Move AM_PATH_ALSA macro to m4 dir
      Move AM_PATH_SDL to m4 dir
      Move autoheader bits to configure.ac
      Remove Visual Studio references from autoconf
      Re-create MSYS2 cache for Windows workflow
      Add a note about Wayland support
      Disable line length rule for markdownlint
      Use dosbox-staging splash screen
      Disable screenshots in Linux snapshot builds again
      Rename snapshot build artifacts
      Update info about snapshot downloads
      Remove usage of register storage specifier
      Remove unused private field
      Add dosbox-staging icon
      Add makefile for creating .icns file
      Add macOS dir prefs to gitignore
      Add target for creating .ico file
      Track *.ico and *.icns files as LFS artefacts
      Store generated .ico and .icns files
      Fix printf warning
      Swap bytes for 15bpp and 16bpp screenshots on PPC
      Mention macOS test snapshot issue in README.md
      Unifdef unused scaler implementations
      Annotate auto_free with 'inline' to prevent redefinition
      Unifdef unused function in mame implementation
      Remove pointless GCC_UNLIKELY from name shortener
      Reorder includes for drive_cache
      Use unsigned for numbers in shortened filenames
      Use safe_strcat
      Mention CGA/mono in README.md
      Be more precise about CGA support in upstream
      Revert "Some graphics cards return (…)" r4315
      Revert "Rewrite video capturing and (…)" r4314
      Sync with branch 'svn/trunk' r4315
      Byteswap captured audio samples on PPC
      Initialize imm variable
      Use memory safe container for GL error log
      Prevent compilation of unreachable code
      Avoid duplicated calls to buf.str()
      Remove useless cast
      Update issues limit for new clang static analyser
      Change 'render.aspect' default to 'true'
      Format help section for 'render.scaler' for 80 columns
      Print newline after 'config /?'
      Fix crash on 'config -get "foo bar"'
      Print newline after 'config -l'
      Print newline after 'config -wcd'
      Print newline after 'config -axadd'
      Change 'sdl.output' default to 'opengl'
      Change 'sdl.capture_mouse' default to 'seamless middlerelease'
      Change 'sdl.fullresolution' default to 'desktop'
      Change 'render.glshader' default to 'sharp'
      Change 'sblaster.oplemu = default' to select 'nuked'
      Remove some duplicated code in serialport
      Initialize missed fields in TCPClientSocket
      Cleanup ifdef guards in serialport misc util
      Make TCPClientSocket field private
      Initialize TCPsocket to nullptr
      Fix window position when switching to windowed mode
      Fix window position when starting in fullscreen
      Revert "Enhance capturing to handle unchanged screens (…)" r4329
      Replace var_read with host_to_le where possible
      Avoid buffer underflow by copying all fields
      Fix buffer overflow in CMD_PATH
      Silence few false-positive buffer overflow issues
      Silence buffer overflow false-positives
      Include cassert header in vga
      Allow GNU extensions for GCC to avoid MinGW bugs
      Use _fileno only with MSVC compiler
      Avoid counting duplicate warnings
      Fix memory leak in dos_execute
      Avoid division by zero when initializing pcspeaker
      Avoid integer overflow in bios_disk
      Prevent null pointer dereference when checking program args
      Fix format warnings in cpu (dh_fpu_esc3)
      Fix format warnings in cpu (dyn_fpu_esc3)
      Remove .icns file from repo
      Use rsvg-convert to render icons in all sizes
      Document icons rendering for all OSes
      Remove .ico LFS artifact from repo
      Set default display units as px in svg icons
      Add an option for disabling networking features
      Add macOS release CI job
      Add a script for creating macOS app bundle
      Use AS_HELP_STRING macro for optional autoconf parameters
      Add an option for static linking of SDL2
      Link to master builds only from README file
      Document link to macOS snapshot builds in README
      Build opusfile libs for macOS snapshots
      Update note about snapshot builds downloads
      Specify -march=nehalem for macOS snapshot builds
      Temporarily disable stripping for CI MSYS2 cache
      Fix README links to macOS release jobs
      Rename count-bugs to count-clang-bugs
      Implement counter for sanitizer issues
      Run sanitizer counter on available logs
      Set sanitizer issue limits
      Move sanitizer selection to matrix
      Disable unnecessary sanitizers
      Update feature comparison in README.md
      Inject newlines before displaying DOS prompt
      Make XGA_GetMixResult a static function
      Make XGA_DrawWaitSub a static function
      Change DrawWaitSub mixmode to uint32_t
      Change GetMixResult mixmode to uint32_t
      Initialize srcval on all codepaths in xga
      Turn on CI jobs for pull_request event
      Remove dead code remains of WinDIB usage
      Cleanup and document GFX_StartUpdate function
      Display splash screen using GFX API
      Start with the correct full/window resolution
      Fix effc++ warnings in control.h
      Set icon after sdl.window is created
      Destroy SDL resources in the proper order
      Update splash screen to use 4:3 aspect ratio
      Remove old splash screen
      Update description of sdl.windowresolution
      Replace Lock/UnlockTexture with UpdateTexture
      Store SDL texture render driver as std::string
      Prevent a crash in Windows AMD drivers
      Handle surface as the last option during update
      Move "extern C" to ppscale header
      Initialize default window size before GUI_StartUp
      Define SDL rgb-masks for creating surfaces
      Fix indirect memory leak of icon surface
      Remove dead code remains of "lazy_fullscreen" feature
      Fix splash screen for surface output
      Rename gimp_image to splash_image
      Skip splash screen if resolution is not large enough
      Allow config properties to be deprecated
      Declare sdl.vsync as deprecated/disabled
      Adjust help strings for sdl options
      Cleanup MIDI/ALSA-related logs
      Initialize all members of Property class
      Prevent empty property names
      Change bpp to unsigned int around render code
      Bring back C++11 foreach loop in fmopl
      Make block_fnum unsigned in fmopl
      Fix few trivial warnings in macOS code
      Update maintainers list in workflow
      Move PVS Studio static analysis to a separate file
      Cleanup workflow files
      Add clang-format rules
      Implement script for re-formatting recent commits
      Update clang-format rules to 9.0
      Update README sections
      Remove misleading comment
      Restore display setting property
      Remove SDL 1.2 SDL_DISABLE_LOCK_KEYS hack
      Reformat pixel-perfect related logs
      Reformat texture_renderer log
      Reformat OpenGL log line
      Update --version information
      Update program name in shell startup messages
      Cleanup windows title
      Change Config::PrintConfig to use std::string
      Update URLs in README.md
      Use more reference links in the readme file
      Fix effc++ warnings in ems.cpp
      Fix Coverity warnings about BlockRead/Write
      Make HandleVideoResize a static function
      Wrap description of sdl.mapperfile in .conf file
      Change default render.scaler to "none"
      Allow selecting windowresolution only on start
      Improved windowresolution handling
      Add DEBUG_LOG_MSG macro
      Log SDL window events
      Fix window size and position when leaving fullscreen
      Implement iround helper function
      Add 'resizable' parameter to SetWindowMode
      Add want_resizable_window flag
      Watch window resize events
      Calculate clip stretching inside the window
      Make window resizable with a minimum size
      Restore redraw instead of reset during expose
      Cleanup and initialize all fields in sdl.draw
      Update clip when window is being resized
      Update minimum window size
      Add windowresolution options: 'resizable' and 'default'
      Remove HandleVideoResize call from SetWindowMode
      Check if window exists before making it resizable
      Add SPDX identifier in sdlmain.cpp
      Replace Bitu with size_t when drawing surface
      Rework interface of GetAvailableArea function
      Create aliases for boolean SetWindowMode parameters
      Inform user about allowed windowresolution bounds
      Hide remaining OpenGL parts behind C_OPENGL ifdef
      Create byteorder header for host_to_le functions
      Add static_casts for few VGA modeinfo fields
      Create new icon data
      Set new 128px icon
      Store pre-rendered icon in Windows .ico format
      Use new icon in Windows builds
      Use half-pause character as title separator
      Add Linux desktop icons according to XDG spec
      Package icons in Linux snapshot builds
      Add an option for libpng static linking
      Update snapshot build to use Ubuntu 18.04 LTS
      Update list of feature differences compared to SVN
      Remove punctuation from some logs
      Respect XDG spec for dosbox-staging main .conf file
      Adjust first comment in .conf file
      Avoid spaces in config file name on macOS
      Update manuals regarding configuration path
      Move implementation to GetConfigName static function
      Add platform-specific notes about config dir
      Add favicon targets to the contrib/icons/ makefile
      Remove greetings and update project URL
      Remove some outdated info and update manuals
      Update some hardcoded info
      Use stable release branding
      Freeze the name on keymapper file
      Update version string in build-system

kcgen:
      Augment the generate distclean target (fixes #14)
      Remove one duplicate and arrange directories after files
      Simplify distclean target with recursive find
      Expand CI coverage and move actions into scripts
      Tailor SDL_Sound for internal use by dosbox-staging
      Replace strncpy with snprintf
      Replace SDL_RWFromMem with more applicable SDL_RWFromConstMem
      Make comment match reality
      Simplify package listing script and standardize workflows
      Add SDL decoders for their corresponding codecs
      Add new dependencies to the workflows and scripts
      Adapt the vorbis library to SDL_Sound's needs
      Cleanup comments and NULL-handling in decoders
      Adapt and improve audio-handling in the CDROM sources
      Add the audio handling changes to build system and documentation
      Add the audio handling changes to the VS project
      Eliminate buffers, conversions, and unused code
      Refactor and pass-through the decode buffer
      Refactor CD-DA flow by removing intermediate buffers and loops
      Remove SpeexDSP from the auto-tools configuration
      Remove conversion sources from the VisualStudio project
      Remove SpeexDSP from the CI configuration
      Allow maximum-issues to be set via command-line
      Refactor the build and list-packages scripts
      Refactor and expand the CI workflows
      Play into subsequent track(s) if playback length exceeds the (…)
      Override architecture and host for 32-bit windows builds
      Perform a daily Coverity Scan of the master branch
      Contribute a static-opus builder
      Fix uninitialized pointer accesses
      Fix uninitialized scalar access
      Cleanup printf types and explicitly state unused vars
      Harmonize refactoring of switch statement
      Use PRIuPTR and define it for Windows GCC 64-bit
      Avoid unnecessary float-to-double promotion, and cleanup
      Remove ineffective consts and indicate unused variables
      Ensure alloca is not defined before defining
      STB Vorbis: Check before dereferencing a potential NULL pointer
      STB Vorbis: prevent division by zero in decode_resign if ch == 0
      STB Vorbis: eliminate inaccessible branch
      Improve memory safety in the DOS Drive Cache class
      Memory overrun and C++11 updates
      Explicitly delete copy and assignment operators
      Fix unsafe memory operations and warnings in the fatDrive class
      Replace strncat with safe_strcat where possible
      Make use of template variable, and reformat whitespace
      Switch from std::vector to std::array
      Stop submitting builds to Coverity for now
      Configure and build all allowable configurations
      Add -DNDEBUG to common release flags
      Remove unnecessary string quotes
      Add "warnmore" build-type to the build script
      Ensure make uses ASCII-only characters
      Add ncurses to installer packages
      Add ability to exclude packages by pattern
      Allow extra arguments to become ./configure flags
      Add empty file to hide automator warning
      Add all OSes to the workflow
      Only checkout the target branch
      Pull the entire repo for release builds
      Fixed --enabled-debug on Windows MSYS2
      Adjust time at which "Config heavy" runs
      Add -framework CoreFoundation, which CoreMIDI depends on
      Reinstate Coverity scanning
      Verify Markdown documents in linting workflow
      Make MD docs comply with markdownlint
      Fix double-free in destructor of CDROM_Interface_Image
      Switch from static to dynamically-linked libstdc++
      Remove ClearTracks() and fix ref-assignment
      Create a combined Clang+GCC cache under Windows
      Add PVS-Studio to our static-analysis workflow
      Cache the PVS-Studio package
      Only run config heavy if our repo has commits
      Unify Windows installations
      Set BASH shell in Config Heavy's commit-check
      Make downloading more robust and helpful
      Count the bugs reported by PVS-Studio
      Use GNU make < 4.x define syntax
      Prevent autoconf leaking tokens into configure
      Ignore PVS-Studio false-positives
      Fix static-analysis issues in cdrom_image
      Fix NULL issues in CPU emulation code
      Fix NULL issues in drive-related code
      Fix NULL issues in OPL code
      Fix NULL issues in zmbv.cpp
      Fix NULL issues in memory.cpp
      Test NULL checks in dr_flac
      Fix NULL issues in render_templates_hq.h
      Fix NULL issues in shell code
      Fix NULL issues in programs-related code
      Adjust workflow warning and bug counts
      Improve compliance when printing drive labels
      Formatting and review fixes
      Allow Opus CDDA support to be optionally disabled
      Fix autoconf nuances with AM_CONDITIONAL
      Stamp the PVS analysis directory with time-and-commit details
      Test more criteria during PVS analysis
      Fix audio-related static analysis issues
      Expand mouse control methods
      Fixup all effc++ warnings
      Fix six Coverity and PVS analysis bugs
      Refine types and sizes to more accurately reflect the values (…)
      Simplify ISO size calculation
      Reformat a couple statements and improve some log messages
      Simplify some cumbersome math statements
      Use "=" assignment when creating references and iterators
      Mimic CD players when first positioning the play head
      Simplify Pause and Stop CD states
      Make the MSCDEX Audio Disk Info return compliant track-ranges
      Refactor slightly to clarify the flow and move to one return-point
      Reduce the track number's type to comply with MSCDEX
      Remove unnecessary check and zeroing of arguments
      Add a script to fetch and diff GitHub workflow logs
      Store GitHub credentials using git
      Check dependencies and improve messages
      Ignore original (.orig) and reject (.rej) patch-failure files
      Document dosbox-staging's BBS Gaming features
      Reword the serial port documentation
      Let user specify branch(es) to operate on
      Expire records and cache at different time-frames
      Improve layout of storage directory
      Fix sector 0 playback bug
      Add partial DAE support for compressed Redbook-compliant tracks
      Simplify by using the _TCPsocketX struct as-is
      Use K&R indents with some if statements
      Be explicit when we lose precision and change signedness
      Only resize the sendbuffer if needed
      Fix a pointer invalidation corner-case in CD-DA
      Permit the use of protected game data files
      Fix spacing and effc++ warnings
      Add DEBUG messages for protected-file handling
      Switch write protected set to unordered_set
      Constrain the Gravis UltraSound's playback frequency selection
      Migrate some members of the Player class to smart pointers
      Use MixerObject's singleton-pattern to manage the channel
      Expand trackFile's shared_ptr life
      Reserve the trackFile shared_ptr prior to its test
      Fix iterator-past-end-of-container Coverity warning
      Migrate Opus decoding interface to C++
      Use C++ typing in Opus decoding interface
      Perform some minor house-keeping in the mp3 and seek handler
      Cleanup debug and on-error handling
      Handle and fix small-block reads from decoder interfaces
      Add an integer division and ceiling helper function
      Define more CD-DA magic numbers
      Refine types and eliminate implicit-casting and magic-numbers
      Make more logic assertions and cleanup multi-line comments
      Allow the code to describe the return value
      Replace code with existing support function
      Improve seeking for audio tracks
      Add support for mono tracks when performing DAE
      Let the code describe the functionality when reading sectors
      Curtail an excessively noisy DEBUG output case
      Drop "[bug]" postfix in assets
      Use auto when type is explicitly cast
      Simplify conditional logic
      Cleanup file size and header length check
      Add a signed integer ceiling divide function
      Whitespace cleanup
      Use static assert feedback instead of convoluted template (…)
      Update the existing PVS false-positives for xxHash v0.7.3
      Bump the MP3 fast-seek-table's version identifier
      Refresh copyrights and headers
      Ensure the first seek isn't cached
      Prevent env:OPUSFILE_LIBS from enabling Opus
      Add a script to capture preprocessor #define statements
      Add a script to check if <ctype> is included before <algorithm>
      Handle user-defined sets of files
      Allow finer grain tracing for debug builds
      Cleanup leaks
      Move member initialization to the definition
      Refactor and make the joystick querier re-runnable
      Simplify joystick type assignment logic
      Prevent undefined behavior while bit-shifting on 32bit systems
      Explicitly ignore some return values
      Use prefix form of incrementing iterators
      Selectively enable MarkDown line-length checking
      Add Code of Conduct
      Only initialize the mapper once during startup
      Track and free unassigned CStickBindGroup allocations
      Use ccache if available
      Use ccache in the CI workflows
      Use ISO date format for ccache keys
      Make a second harder attempt to seek if needed
      Update PVS Studio to version 7.06.37052.34
      Assess the mouse capture state when gaining window focus
      Eliminate redundant use void arguments
      Improve comment about EXPOSED event
      Expand use and support for LTO and FDO builds
      Ensure seeks and reads are within bounds of the track length
      Add AUTOTYPE to dosbox-staging's programs
      Validate string to double using std::isfinite
      Use WriteOut_NoParsing where possible
      Clarify choice of wrap-width
      Mark a function const
      Use references when catching polymorphic exceptions
      Cleanup PVS warning regarding unnecessary copy
      Cleanup PVS warning regarding cumbersome empty checks
      Cleanup PVS warning unnecessary code
      Cleanup PVS warning about uninitialized members
      Apply clang-format rules
      Add copyright header
      Add header guard
      Conform to white-space convention in GPL's copyright line
      Add AUTOTYPE to dosbox-staging's programs
      Remove a couple erroneous null-pointer assertions
      Add an 'optinfo' build target
      Append to lists to avoid clobbering
      Make sanitizers platform-agnostic
      Add memory-count instrumentation to Clang MSAN builds
      Statically link libasan during ASAN builds
      Add ARM platforms to the build script
      Make host-mem functions endian-safe and alignment-safe
      Fix alignment when reading values from the write-map
      Fix alignment when writing to the cache
      Fix alignment when incrementing the invalidation map
      Fix alignment when fetching values in the decoder
      Fix alignment when incrementing values in the cache
      Fix alignment when assigning a cache diff value
      Fix alignment when saving the branch value
      Fix alignment when adding a jump value to the cache
      Fix alignment when writing the jump value to memory
      Fix alignment when populating the VESA mode block
      Enable strict aliasing for release builds
      Add aliasing warnings to the warnmore target
      Reset the Windows MSYS2 cache incrementor
      Remove unnecessary dereferences and casts
      Ignore intermediate files generated by ./configure
      Eliminate old host_to_le functions
      Add host read-and-write funcs with index support
      Make use of indexed reads and writes
      Use type-specific host conversion funcs
      Simplify assignments with type-sized host reads
      Cleanup switch/case formatting
      Ignore re-assignment warnings in PVS-Studio
      Sync PVS Studio with upstream
      Defer laying out the UI until the first key bind event
      Conditionally initialize the joystick subsystem
      Don't initialize and manage joysticks in SDLmain
      Use more robust method to get the scripts directory
```

### <a name="changelog-libs" href="#changelog-libs">§</a> Merged-in community patches and libraries

``` text
kcgen:
      Add built-in xxHash (v0.7.3)              (author: Yann Collet)
      Add built-in Vorbis codec: (v1.17)        (author: Sean Barrett)
      Add built-in SDL_sound r599 (LGPL)        (author: Ryan C. Gordon)
      Add built-in C++ object serializer        (author: Arthur Cuellet)
      Add built-in FLAC codec: dr_flac v0.12.11 (author: David Reid)
      Add built-in MP3 codec: dr_mp3 v0.6.4     (author: David Reid)
      Add built-in WAV codec: dr_wav v0.12.1    (author: David Reid)

Patryk Obara:
      Replace SDL 1.2 with SDL 2.0 (based on work of: NY00123)
      Add Nuked OPL3 emulator v1.8 (author: Alexey Khokholov)

Michael Zijlstra:
      Add cga_mono machine (author: VileRancour)
```

### <a name="changelog-svn" href="#changelog-svn">§</a> Changelog (DOSBox SVN)

This section summarizes development in SVN trunk since DOSBox 0.74 (`r3608`)
until SVN trunk `r4336`. Changes that were back-ported and released in 0.74-2
or 0.74-3 are **not** listed in here.

This is only a summary and not a comprehensive changelog, to see the full list
of changes, look up [SVN log on SourceForge][sf-log].

You can also browse changes based to DOSBox on branch
[`svn/trunk`][git-trunk] in our git repository.

[sf-log]:https://sourceforge.net/p/dosbox/code-0/4336/log/?path=dosbox/trunk/
[git-trunk]:https://github.com/dosbox-staging/dosbox-staging/commits/svn/trunk

#### 2020

##### Improvements to software compatibility

- DOS Navigator 1.51 (CD-Player feature)

##### General improvements

- Disable scaling by the OS on windows
- Improve compatibility with big-endian architectures
- Add OpenGL shader support (patch by NY00123, refined by jmarsh)
- Add several builtin shaders that mimic the scalers
- Various bugfixes

#### 2019

##### Improvements to game compatibility

- F29 Retaliator and Hover Force (MPU detection)
- Casino Tournament of Champions (audio fixes)
- Eye of the Beholder III (fix sound stuttering)
- MechWarrior (don't skip intro)
- Prehistorik 2 (general fixes for the demo version)
- 221 B Baker Street (EGA detection)
- NBA Jam Tournament Edition (prevent flicker)
- Blues Brothers (video check fix)
- Blue Force (`vgaonly`)

##### Improvements to software compatibility

- Quickview (with dyncore)

##### General improvements

- Add 64-bit support to dynamic_x86 core
- Add new `DIR` sorting options
- Add `BIOSTEST` program (debugger builds only)
- Avoid using OpenGL quad to work around NVIDIA bug
- Allow compilation without CoreMIDI
- Various bugfixes

##### 2018

###### Improvements to game compatibility

- Power Dolls
- The Adventures of Buckaroo Banzai: Across the Eighth Dimension
- A320 Airbus
- The Perfect General
- Hattrick
- Make Your Own Murder Party
- Will Harvey's Music Construction Set
- Pinball Construction Set
- Hugo (installers)
- Air Power
- Fun School 3 (EGA)
- Steel Shot
- Bureau 13

##### General improvements

- LucasArts setup utilities
- Fix sound issues in various FMV games with SoundBlaster 16
- Add support for 64-bit ARMv8
- Generic fix for MicroProse installers
- Allow compilation without png support
- Various bugfixes

#### 2017

##### Improvements to game compatibility

- Jack Orlando (fix hang and graphical glitches)
- Microleague Football 2 (sound)
- Chuck Yeager's Air Combat (Tandy DAC audio)
- Cyrus Chess (proper CPU detection)
- Sierra Championship Boxing

##### General improvements

- Add selection of MIDI device by name under Windows
- GUS, mixer rates, Clang, joysticks, video modes
- Various bugfixes

#### 2016

##### Improvements to game compatibility

- Descent 1, 2 (ingame screenshot)
- Horror Hotel
- The Forgotten Land
- Sargon 3
- Bruce Lee
- Victory Road
- Gold of the Aztecs
- RS-2 (CGA fixes)
- Corncob 3D
- Planet Soccer (a.k.a. Planet Football) (colour fix)

##### Improvements to software compatibility

- GW-BASIC (Tandy)

##### General improvements

- PC speaker improvements
- Add support for Print Screen key and interrupt
- Increase size of SysEx buffer to support Sierra's Yamaha FB-01 driver
- Improve graphics mode text compatibility
- Fix hang when redirected input reaches EOF
- Prevent problems related to I/O buffering with disk images.
- Fix debugger "running" status message when resuming emulation with F5.
- Various bugfixes

#### 2015

##### Improvements to game compatibility

- Ancient Art of War
- XTree Gold
- Galaxy Player (file listing)
- Dune (allow selecting Adlib Gold)
- Future Wars and Operation Stealth (when machine=hercules)
- V for Victory (no-CD installation)
- Microprose games (when machine=tandy)

##### General improvements

- Add oplmode=opl3gold to Sound Blaster
- Handle High Sierra formatted CDROM images
- Misc fixes in Clang, MinGW64, console sizing, file listings, batch parsing
- Various bugfixes

#### 2014

##### Improvements to game compatibility

- King's Quest 1 (PCJr)
- King's Quest 2 (PCJr)
- Shadow Warrior

##### General improvements

- Fix aspect ratio for text modes for Hercules and Tandy
- Allow the windows and menu keys to be mappable on Linux and Windows
- Fix reading from NUL
- Various bugfixes

#### 2013

##### Improvements to game compatibility

- Voyages of Discovery
- The Manhole (CD-DA playback)
- Starflight (background color)
- Hexsider (Hercules video mode)

##### General improvements

- ARMv7 dynrec
- MIDI interfacing w/ host OS
- CPU cycle / timing improvements
- Fixes for Clang, SDL, and autotools
- Various bugfixes

#### 2012

##### Improvements to game compatibility

- M.U.L.E.
- Settlers 2
- Black Gold (installer)
- Innocent Until Caught
- Curse of Enchantia
- MechWarrior
- Pył
- College Slam
- Kick Off 98

##### General improvements

- Fix BIOS text output in 320x200 16 color and 640x200 4 color modes
  on the PCJr
- Rewrite emulation of Programmable Interrupt Controllers (PICs)

#### 2011

##### Improvements to game compatibility

- Death by Dark Shadows
- Tie Break Tennis 98 (game speed)
- Scuba Venture
- Windows 3.1 (floppy handling)
- Blood (CD-DA track looping)
- Shadow Caster (CD-DA playback)
- 3D Mania
- Black Knight (installer)
- Legend of the Red Dragon

##### General improvements

- GCC 4.x compatibility
- Built-in debugger improvements
- VGA modes
- Improve file I/O
- Improve date/time handling
- Various bugfixes

#### 2010

##### Improvements to game compatibility

- Ms. Pac PC
- Pac PC
- Dactylus (installer)
- Spacewar (Hercules handling)
- Beverly Hills Cop (EGA)
- The Faery Tale Adventure (EGA)
- Secret Agent 1
- Betrayal in Antara (file handling)
- Mickey's Space Adventure (Tandy)
- Chuck Yeager's Air Combat (Tandy)
- Ghostbusters (Tandy)
- SkyNET (crash-fix)
- The Last Express (installer)
- Little Big Adventure
- Airline Simulator 2
- David Leadbetter's Greens
- Alley Cat (PCJr)
- Gauntlet (Tandy)
- Pirates! (Tandy)
- Titan
- Pinball World (installer)
- Threat

##### Improvements to software compatibility

- Norton Commander
- DisplayMate for DOS

##### General improvements

- Built-in debugger improvements
- Handle +/- INF floating point values
- Fix `vgaonly` panning
- Bugfixes for EGA text and video modes
- SB16 fixes (for games using CT-VOICE.DRV)
- Tandy memory
- Implement `SUBST /D`
- Improve MSCDEX image shuffling
- File cache fixes
- Ad MSCDEX volume control
- Shell buffer flushing
- VGA monochrome mode fixes
- EMS fixes
- plenty Tandy and PCJr related fixes
- Improve `CONFIG` command
- SoundBlaster CD audio control
