+++
title = "dosbox-staging 0.75.0 Release Notes"
date = 2020-05-03
+++

## The dosbox-staging Project

Copyright © 2020 The dosbox-staging project.

The **dosbox-staging** project was created September 15, 2019 as a
[soft-fork][1] of the SourceForge-based DOSBox project, which is a separate
project having its own schedule and development priorities.

Arm® and Arm7® are trademarks or registered trademarks of Arm Limited (or its
subsidiaries) in the US and/or elsewhere.

Clang and LLVM are copyright the University of Illinois/NCSA and at
Urbana-Champaign, <http://llvm.org>

Coverity® is a registered trademark of SYNOPSYS, INC.

The Free Lossless Audio Codec (FLAC), Opus, Vorbis, and Ogg are copyright the
Xiph foundation.

The GNU Compiler Collection (GCC) and Git are copyright the Free Software
Foundation, Inc.

IBM®, OS/2™, PowerPC™, POWER8™, LinuxONE™, and S/390™ are trademarks of
International Business Machines Corporation in the United States and other
countries.

Intel®, Core™, and Pentium™ are trademarks or registered trademarks of Intel
Corporation or its subsidiaries in the United States and other countries.

Linux® is the registered trademark of Linus Torvalds in the U.S. and other
countries.

Mac™ and macOS™ are trademarks of Apple Inc., registered in the United States
and other countries.

OpenGL® and OpenGL® ES are trademarks or registered trademarks of Hewlett
Packard Enterprise in the United States and/or other countries worldwide.

Windows®, Windows XP®, DirectDraw®, and Visual Studio® are registered
trademarks of Microsoft Corporation in the United States and other countries.

Vulkan® and WebGL™ are a registered trademarks of the Khronos Group Inc.

## Abstract

These release notes summarize the changes made to dosbox-staging since the
project's inception through to the release of version 0.75.0. This includes:

- feature changes, including those added and removed,
- known issues, and
- workflow changes visible to contributors.

## Table of Contents

- [1. Introduction](#introduction)
- [2. Overview of Changes](#overview)
  - [2.1. Summary of New Features](#summary-new-features)
  - [2.2. Removed Features](#removed)
  - [2.3. Developmental Changes](#developer-features)
  - [2.4. Known issues](#known-issues)
  - [2.5. Changes per Author](#author-tally)
- [3. New Features in Detail](#new-features)
  - [3.1. Upgrade to SDL 2.0](#sdl2)
  - [3.2. Support FLAC, Opus, Vorbis, and MP3 CD-DA tracks](#cdda)
  - [3.3. Pixel-perfect scaling mode](#pp)
  - [3.4. AUTOTYPE command](#autotype)
  - [3.5. Changed rendering defaults](#rdef)
  - [3.6. Expand mouse control methods](#mouse)
  - [3.7. Nuked OPL v1.8](#nuked)
  - [3.8. Resizable window](#resizable)
  - [3.9. CONFIG command improvements (Git, SVN)](#config)
  - [3.10. Configuration file locations](#xdg)
  - [3.11. 64-bit dynarec (SVN)](#dynarec)
  - [3.12. GLSL shader support (SVN)](#glsl)
  - [3.13. DATE and TIME commands (SVN)](#date)
  - [3.14. CGA emulation improvements (Git, SVN)](#cga)
  - [3.15. Mount overlay support (SVN)](#overlay)
- [4. Changelog](#changelog)
  - [4.1. dosbox-staging](#changelog-git)
  - [4.2. Community patches and libraries](#changelog-libs)

## <a name="introduction" href="#introduction">§</a> Introduction

This document contains the release notes for dosbox-staging 0.75. It describes
recently added, changed, or deleted features of dosbox-staging.

All users are encouraged to consult the ***New Features in Detail*** and
***Known Issues*** sections before using `dosbox-staging`, as these describe
important interface changes as well as information discovered late in the
release cycle or after the release.

The release packages to which these release notes apply represents the
latest point along the 0.75 development branch. Information regarding
pre-built, binary releases for this branch can be found at:

- [Linux](/downloads/linux/) (or [Steam on Linux](/downloads/linux#steam))
- [Windows](/downloads/windows/)
- [macOS](/downloads/macos/)

## <a name="overview" href="#introduction">§</a> Overview of Changes

The **dosbox-staging 0.75** development cycle lasted roughly eight months
starting with the creation of the project mid-September 2019 and concluded
early May 2020.

### <a name="summary-new-features" href="#summary-new-features">§</a> Summary of New Features

- Migrated from Simple DirectMedia Layer (SDL) version 1.2.x to 2.0, which:
  - Enabled support for the Wayland display protocols
  - Enabled hardware-acceleration for OpenGL ES 1 and 2 devices on ARM
    platforms.
- Added support for CD-ROM Digital Audio (CD-DA) tracks compressed using the
  Free Lossless Audio Codec (FLAC), Opus, and Moving Picture Experts Group
  (MPEG) 2 Audio Layer III (MP3) audio codecs.
- Added hardware-accelerated pixel-perfect output.
- Added the ability to resize the window.
- Added the cycle-accurate Nuked Operator Type-L 3 (OPL3) emulator.
- Added Color Graphics Adapter (CGA) mono-color mode.
- Added phonebook support, to map modem phone-numbers to Internet hostnames.
- Added the AUTOTYPE command, which can perform scripted keyboard input on your
  behalf.

These are expanded upon in the following subsections.

### <a name="removed" href="#removed">§</a> Removed Features

- dosbox-staging does not run on Operating System/2 (OS/2) or derivatives.
- dosbox-staging does not run on Windows older than XP.
- Removed support for old DirectDraw (`ddraw`) output.  
  Use `output = texture`, `texture_renderer = directx11` instead.
- Removed support for old `overlay` output. Use any other output.
- Removed support for relative window size (`windowresolution = X%`).
- Removed support for 64-bit Zip Motion Blocks Video (ZMBV) codec (old 32-bit
  codec still works).
- Removed support for CD-DA playback from physical disks. It is
  still possible to install games distributed on CDs by mounting them as
  directories. See [#260][260].
- Removed CD-DA playback support for tracks using the Audio Interchange File
  Format[AIFF][aiff] audio codec.

[260]: https://github.com/dosbox-staging/dosbox-staging/issues/260
[aiff]: https://en.wikipedia.org/wiki/Audio_Interchange_File_Format

### <a name="developer-features" href="#developer-features">§</a> Developmental Changes

- Migrated the DOSBox source from Apache's Subversion (SVN) software versioning
  and revision control system to the Git distributed version-control system
  using GitHub, while preserving all publicly available project history.
  - Active SVN branch paths were imported as Git branches (named`svn/<name>`).
  - SVN tag paths were imported as Git lightweight tags (named
    `svn/<tag-name>`).
- Ongoing upstream SVN development work is being imported in a timely manner to
  the Git branch named `svn/trunk`.
- Began the migration to and allowance for C++11 language constructs.
- Implemented a Continuous Integration (CI) system that builds on every code
  push to provide immediate feedback to developers regarding build-success and
  warning-counts on:
  - Windows x86_64 using GCC 32 and 64-bit, Clang 32 and 64-bit, and
    VisualStudio 64-bit compilers
  - macOS x86_64 using GCC and Clang compilers
  - Linux x86_64, ARMv6, ARMv7, IBM LinuxONE, and IBM POWER8 platforms using
    various versions of GCC and Clang
- Added static analysis checks performed by LLVM's Clang, Synopsys's Coverity,
  and VIVA64's Program Verification Systems (PVS) Studio.
- Added dynamic analysis checks performed by Clang's undefined-behavior (UB)
  sanitizer and GCC's UB and Address sanitizers.
- The CI system includes gated checks that allow maintainers to focus on code
  functionality and correctness. These automated checks guarantee that new
  code:
  - builds clean on all supported platforms and compilers,
  - adds no new compiler warnings, and
  - adds no new static or dynamic analysis issues.
- Notable progress has been made in reducing the number of warnings and
  analysis issues flagged by these tools.
- *Windows*: the build-system was adjusted to allow easy compilation, without
  manual download or patching of dependencies. We use `vcpkg` to manage
  dependencies. The solution file was fixed to work with Visual Studio 2019.
- *Linux and macOS*: implemented a number of small build-system improvements.
- Automated the compilation of release-style builds against the latest master
  and feature branches. These not only save time for testers wanting to verify
  new features and bugfixes, but also ensures they're running builds compiled
  using would-be release settings.
- *macOS*: release binaries are compiled with optimizations supporting Intel
  Nehalem-based instructions (and newer), as this matches the minimum processor
  requirements set by macOS Catalina.
- Release packages are scanned using up-to-date Antivirus software: ClamAV for
  Linux and macOS, and Windows Defender for Windows.
- The project has published a Code of Conduct along with clear Contributor
  Guidelines.

### <a name="known-issues" href="#known-issues">§</a> Known issues

- Inconsistent minimum window size with `windowresolution = resizable` when
  leaving fullscreen.
- Windows, macOS: Window content is not refreshed when resizing.
- Windows, macOS: Emulation stops when moving or resizing window.
- Linux: Wayland crashes (Wayland support is "experimental" at the moment)
- Linux: Splash screen is sometimes transparent or corrupted on KDE

Submit new issues or learn more about existing ones using our bug-tracker:
[github.com/dosbox-staging/dosbox-staging/issues][issues]

[issues]:https://github.com/dosbox-staging/dosbox-staging/issues

### <a name="author-tally" href="#author-tally">§</a> Summary of Contributions

During the **dosbox-staging 0.75** development period:

- **11 dosbox-staging contributors** submitted **208** pull requests comprised
  of **735** commits written by **18 authors**.
- **69 dosbox-staging issues** were reported and addressed.
- **54 dosbox-staging wiki updates** were made.
- **Three DOSBox maintainers** committed **76** changes written by **five**
  authors. These changes have been incorporated into dosbox-staging.

This combined work is attributed to the following authors, in alphabetic order:

| **Author** | **Commits** | **Issue Reports** | **Wiki Updates** |
|:---|:---:|:---:|:---:|
| Alexey Khokholov | 1 |  |   |
| Anton Shepelev (ant-222) | 4 |   |   |
| amak79 | | 1 |   |
| Arthur Ouellet | 1 |   |   |
| bruenor41 | 1 |   |   |
| cfoesch | 1 |   |   |
| datapackrat | | 2 |   |
| David Reid | 15 |   |   |
| DOOMMARINE117 | | 2 |   |
| dugan | 1 |   |   |
| GranMinigun | | 2 |   |
| gulikoza | 3 |   |   |
| James-F2 | | 1 |   |
| jlopezvil | | 1 |   |
| jmarsh | 5 |   |   |
| Jonathan Campbell | 4 |   |   |
| Joshua Fern | 1 |   | 2 |
| kas1e | | 6 |   |
| kcgen | 252 | 29 | 11 |
| KJ Liew | 2 |   |   |
| LowLevelMahn | | 1 |   |
| Magnus Henoch | 2 |   |   |
| mdmallardi | | 1 |   |
| Marco Maccaferri | 1 |   |   |
| Michael Zijlstra | 1 |   |   |
| MozzarellaM | | 1 |   |
| nemo93 | | 4 | 30 |
| NicknineTheEagle | 5 | 2 |   |
| Nopey Nope | 1 |   |   |
| nukeykt | 4 |   |   |
| numberZero | 1 | 2 |   |
| NY00123 | 2 |   |   |
| Oldman | 1 |   |   |
| Patrick McMorris | 2 |   |   |
| Patryk Obara | 442 | 11  | 10 |
| Peter Veenstra | 68 |   |   |
| rderooy | | 1 | 1 |
| richard-gravy | | 2 |   |
| ripa | 2 |   |   |
| ripsaw8080 | 7 |   |   |
| Ryan C. Gordon | 1 |   |   |
| Sean Barrett | 1 |   |   |
| sergm | 3 |   |   |
| Sjoerd van der Berg | 2 |   |   |
| Troy Campbell | 1 |   |   |
| Tyrell Sassen | 1 |   |   |
| VileRancour | 1 |   |   |
| Wengier W | 2 |   |   |
| Wouter Wijsman | 3 |   |   |
| Yann Collet | 2 |   |   |
| Yesterplay80 | 3 |   |   |
| Zapeth | 2 |   |   |

We are extremely grateful for all contributions including the invaluable
improvements merged in from the DOSBox project. Thank you!

## <a name="new-features" href="#new-features">§</a> New Features in Detail

### <a name="sdl2" href="#sdl2">§</a> Upgrade to SDL 2.0

SDL 2.0 is a major update to the SDL 1.2 codebase, which has been unmaintained
since 2013. SDL 2.0 supports more input devices; more output interfaces such as
Wayland, and OpenGLES 1 and 2; low-latency audio using OpenSL ES; and improves
cross-platform consistency.

The migration to SDL 2.0:

- dropped 3,211 lines of SDL 1.2 code in place of 1,664 lines, for just
  under a 50% reduction in code-size.
- eliminated several OS-specific branches and all SDL1-specific kludges.
- eased support for modern graphic APIs, and opened the field for new features
  and improvements.

One example includes the new `texture` `output` mode, which uses SDL's 2D
hardware-accelerated API rendering to a platform-specific backend.

For example, Windows users can use:

``` ini
[sdl]
output           = texture
texture_renderer = direct3d11
```

macOS users can try Metal:

``` ini
[sdl]
output           = texture
texture_renderer = metal
```

and everyone can use OpenGL as texture backend:

``` ini
[sdl]
output           = texture
texture_renderer = opengl
```

Or just use `texture_renderer = auto` to let SDL pick the backend appropriate
for your Operating System.

## <a name="cdda" href="#cdda">§</a> Support FLAC, Opus, and MP3 CD-DA tracks

FLAC, Opus, and MP3 (as well as MP2 and MP1)-encoded audio can be `imgmount`ed
as CD-DA tracks in dosbox-staging, in addition to the usual WAV and Vorbis
tracks supported by DOSBox. WAV support has been expanded to include Sony's
Wave64 format.

dosbox-staging also support the use of various sample esolutions, such as 24
and 16-bit; sampling rates, such as 96, 88.2, 48, 44.1, 22.05, and 11.025 kHz;
and stereo or mono channel counts, to the extent supported by the codecs
themselves. You can mix-and-match these among your tracks to tailor your
encoding settings to the track's content.

The following example CUE file depicts the use of all codecs:

``` cue
FILE "data.iso" BINARY
  TRACK 01 MODE1/2048
    INDEX 01 00:00:00

FILE "track02.opus" OPUS
  TRACK 02  AUDIO
    PREGAP 00:02:00
    INDEX 01 00:00:00

FILE "track03.flac" FLAC
  TRACK 03 AUDIO
    INDEX 01 00:00:00

FILE "track04.mp3" MP3
  TRACK 04 AUDIO
    INDEX 01 00:00:00

FILE "track05.w64" W64
  TRACK 05 AUDIO
    INDEX 01 00:00:00

FILE "track06.ogg" OGG
  TRACK 06 AUDIO
    INDEX 01 00:00:00

FILE "track07.wav" WAV
  TRACK 07 AUDIO
    INDEX 01 00:00:00
```

For devices with sufficient storage, we recommend ripping your CD-ROM audio to
(lossless) FLAC tracks and adding seek-points using:

``` shell
flac -8 --output-name=trackXY.flac trackXY.wav
metaflac --add-seekpoint=1s trackXY.flac
```

FLAC can provide up to 50% compression and no loss of fidelity.

For limited-storage devices such as ARM single-board computers, Opus provides
state-of-the-art lossy compression that exceeds all other formats including
Apple's AAC and AAC High-Efficiency formats. Opus allows you to save almost
twice as much space versus MP3 or Vorbis.

For example, CD-DA tracks consisting of monaural speech can be encoded with:

``` shell
opusenc --speech --bitrate 24 --downmix-mono trackXY.wav trackXY.opus
```

Jones in the Fast Lane's CD-DA audio track (in WAV format) compresses from 373
MB to 6.4 MB, with no discernible quality loss.

A bitrate between 54 and 70 is sufficient for sound effects and simple music,
while a bitrate of 84 can be used for more complex musical tracks. Experiment
and find your sweet spot!

``` shell
opusenc --bitrate 70 trackXY.wav trackXY.opus
```

If your CD-DA tracks are encoded at 48 kHz (which is Opus's defaults internal
rate), then feel free to configure `dosbox-staging`'s mixer rate to 48 kHz,
which ensures your CD-DA will not be resampled during playback through your
entire audio chain as your sound card, USB speakers, and HDMI interface all
(likely) use a digital audio converter (DAC) operating natively at 48 kHz.

``` ini
[mixer]
rate = 48000
```

### <a name="pp" href="#pp">§</a> Pixel-perfect scaling mode

Pixel-perfect output scales the image by the largest integer multiplier
that fits within your monitor's native resolution. For example, given a
1920x1080 monitor resolution and a game requiring aspect-correction, each
of its 320x200 game requiring pixels would be scaled by 4x5, producting a
1280x1000 image. This preserves the original artwork without *any* edge
blurriness.

To enable pixel-perfect output, apply the following settings to the
indicated `[section]`s of your dosbox-staging configuration file, as
follows:

``` ini
[sdl]
fullscreen = true
output     = texturepp

[render]
scaler   = none
glshader = none
```

On 1080p screen it looks like this:

[![HoMM2](/homm2-pp-2x2-min.png)][homm2pp]

Heroes of Might and Magic 2 (1996)  
640x480 with [PAR][par] 1:1, upscaled 2x2

[![Wolf3D](/wolf3d-pp-4x5-min.png)][wolf3dpp]

Wolfenstein 3D (1992)  
320x200 with PAR 1:1.2 (non-square pixels), upscaled 4x5 to PAR 1:1.25

[par]: https://en.wikipedia.org/wiki/Pixel_aspect_ratio
[homm2pp]: /homm2-pp-2x2.png
[wolf3dpp]: /wolf3d-pp-4x5.png

### <a name="resizable" href="#resizable">§</a> Resizable window

Being able to click and drag to resize an application's window is not a
revolutionary feature by any measure, however it's a welcome addition for
`dosbox-staging`!

{{ youtube(id="9J2U-qFxE1E", class="youtube") }}

This feature is a work-in-progress: it's available on Linux by default, and can
be enabled for testing on Windows and macOS by setting the following (but note
that it does not yet work correctly on these systems):

``` ini
[sdl]
windowresolution = resizable
```

On all systems, the resizable window is only available for `output = opengl`
and `glshader = sharp`. Support will be expanded to more outputs and shaders in
the future versions.

### <a name="autotype" href="#autotype">§</a> AUTOTYPE command

`AUTOTYPE` is a command-line tool provided by `dosbox-staging` that performs
scripted keyboard entry into the running DOS program.

It can be used to reliably skip intros, answer Q&A style questions that some
games ask on startup, or conduct a simple demo.

Run this command to read usage:

``` shell
Z:> autotype -h
```

Some examples are listed in this [dedicated wiki article][autotype].

[autotype]: https://github.com/dosbox-staging/dosbox-staging/wiki/AUTOTYPE-Candidates

### <a name="rdef" href="#rdef">§</a> Changed rendering defaults

The following default configuration settings were changed to improve the
out-of-the box experience for the majority of games running on modern hardware.

OpenGL is now used as the default rendering backend, targetting a 4:3 screen
aspect ratio, and using the `sharp` OpenGL shader to provide relatively sharp
pixels when full screen.

[![Battle Chess](/bc.png)](/bc.png)

Battle Chess (1988) on 1080p screen with default dosbox-staging settings

### <a name="mouse" href="#mouse">§</a> Expand mouse control methods

The prior "autolocking" mouse option used by DOSBox has been renamed in
dosbox-staging to `capture_mouse`, now with two values defining how the mouse
behaves inside the emulator's window.

The first value defines how the mouse is controlled:

- `onclick` - The mouse will be captured with a click inside the window.
- `onstart` - The mouse is captured immediately on start (similar to real DOS).
- `seamless` - The mouse will move seamlessly in and out of the window and
  cannot be captured.
- `nomouse` - The mouse is disabled and hidden without any input sent to the
  game.

The second value defines how middle-clicks are handled:

- `middlegame` - Middle-clicks are sent to the game (not used to uncapture
  the mouse).
- `middlerelease`- Middle-click will uncapture the mouse when windowed (not
   sent to the game).

For example:

``` ini
[sdl]
capture_mouse = onclick middlerelease
```

Will make mouse cursor captured on the first click inside a dosbox window, and
release on middle-click.  Note that the old method of releasing cursor with
Ctrl-F10 still works.

Note that dosbox-staging defaults to `seamless` mouse_capture to simplify
multi-tasking in Windowed-mode and provide a frustration-free experience for
new users. However, some games and Windows 3.1 make their own adjustments to
the mouse position and will cause an offset-effect. In these cases, we
recommend switching to fullscreen (alt-enter) or setting the mouse to capture
`onclick` or `onstart`.

*These options do not affect mouse behavior in fullscreen; when switched to
fullscreen using Alt-Enter, mouse is always captured.*

### <a name="nuked" href="#nuked">§</a> Nuked OPL v1.8

An excellent [OPL3][opl] "Nuked" emulator is used by default. This change
improves AdLib and SoundBlaster music emulation accuracy in many games.

Improved emulation quality comes at a cost of slightly higher CPU usage. For
the vast majority of users it will not be a problem, but e.g. Raspberry Pi
enthusiasts might prefer to switch to one of older emulators (see documentation
for `oplemu` in the configuration file).

[opl]: https://en.wikipedia.org/wiki/Yamaha_YMF262

### <a name="config" href="#config">§</a> CONFIG command improvements

Built-in `CONFIG` shell command is old, but a little-known feature allowing
user to reconfigure dosbox-staging at runtime.  This is a nifty way to change
configuration using e.g. batch scripts based on user input.

#### Reloading key bindings

User can now change key bindings at runtime by loading them from a file:

``` shell
Z:\> config -set "sdl mapperfile=<path-to-file>"
```

#### Other new options (SVN)

Upstream added a number of features to this command, to list them all run:

``` shell
Z:\> config /?
```

### <a name="xdg" href="#xdg">§</a> Configuration file locations

#### Linux

The path for configuration files was changed according to
[XDG Base Directory Specification][xdg]. This means dosbox-staging is not going
to create configuration directories directly in your home directory any more.

Configuration files are created in:

``` text
~/.config/dosbox/
```

Users can override it via `XDG_CONFIG_HOME`, according to [spec][xdg].

[xdg]: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html

#### macOS

The path was slightly changed to avoid spaces in the default configuration
filename and group all configuration files in a single directory:

``` text
~/Library/Preferences/DOSBox/
```

#### Windows

*No changes; the configuration files are created in:*

``` text
C:\Users\<username>\AppData\Local\DOSBox\
```

### <a name="dynarec" href="#dynarec">§</a> 64-bit dynarec (SVN)

DOSBox had [dynamic recompilation][dynarec] support for a long time, but it was
limited only to 32-bit builds.  Support for 64-bit dynarec improves CPU
emulation speed and quality across the board - this is especially visible to
Linux and macOS users<sup>＊</sup>.

{{ youtube(id="9N-wXIamSh4", class="youtube") }}

Stargunner (1996) freeware; running on Linux x86\_64 via Boxtron

*Before 64-bit dynarec, this game had serious emulation problems resulting in
fluctuating emulation speed (sometimes too fast, sometimes too slow -
regardless of cycles settings). This game was designed to run with constant
70FPS and now it runs with constant 70FPS.*

[dynarec]: https://en.wikipedia.org/wiki/Dynamic_recompilation

<sup>
＊ - dosbox-staging 0.75.0 stable Windows build is still 32-bit; Linux and
macOS builds are 64-bits.
</sup>

### <a name="cga" href="#cga">§</a> CGA improvements

[![CGA modes comparison](/cga-showcase-1-min.png)][cga4]

[cga4]:/cga-showcase-1.png

Maniac Mansion (1987), with forced CGA mode

- *top-left: CGA, default palette*
- *top-right: CGA/mono, green tint selected*
- *bottom-left: CGA Composite, early model, default hue*
- *bottom-right: CGA Composite, late model, default hue*

#### CGA monochrome mode

Some [CGA][cga] games from 80's look much better with monochrome display;
this mode is designed to emulate such setup.

Use `machine = cga_mono`

*User can switch between green, amber, white, and paper-white tints at
runtime using&nbsp;F11.*

[cga]: https://en.wikipedia.org/wiki/Color_Graphics_Adapter

#### CGA Composite mode (SVN)

[Composite][comp] mode to  CGA emulation was introduced in SVN very
long time ago (in 2012), but was never back-ported to any stable release.
Most users know this mode from other DOSBox forks.

User can switch between Color and Composite mode, between CGA early and late
models, and adjust hue (all at runtime).

*The default keyboard binds for manipulating CGA modes conflict with
other essential binds. It's advisable to change them, if you plan to play
with this. The default key for turning on composite is F12.*

[comp]: https://en.wikipedia.org/wiki/Composite_artifact_colors

### <a name="glsl" href="#glsl">§</a> GLSL shader support (SVN)

[GLSL][glsl] shaders provide a HW-accelerated alternative to old (software-based)
DOSBox "scalers". They also allow for emulating CRT-like effects (e.g. scanlines or
shadow masks).

User can adjust shader setting in `render` section in the configuration file:

``` ini
[render]
glshader = sharp
```

It's also possible to provide your own shader implementations by placing `.glsl`
file in the configuration directory and selecting it in the configuration file, e.g.:

Place `test.glsl` file in the configuration directory:

``` ini
(Linux)   ~/.config/dosbox/glshaders/
(macOS)   ~/Library/Preferences/DOSBox/glshaders/
(Windows) C:\Users\<username>\AppData\Local\DOSBox\glshaders\
```

And select it in the configuration file:

``` ini
glshader = test.glsl
```

[![X-Wing Collector's Edition](/xwingce-lottes.png)][lottes]

STAR WARS™ - X-Wing: Collector's CD-ROM Edition (1994)

*Using CRT-Lottes shader on 1080p screen; click to see the fine details.
This shader is not bundled with dosbox-staging (yet), you can download it
from [here][tyrells].*

[glsl]: https://en.wikipedia.org/wiki/OpenGL_Shading_Language
[lottes]: /xwingce-lottes.png
[tyrells]: https://github.com/tyrells/dosbox-svn-shaders

### <a name="date" href="#date">§</a> DATE and TIME commands (SVN)

Commands emulating DOS `DATE` and `TIME` utilities were added. User can
change date inside a dosbox:

``` shell
Z:\> date
Current date: Fri 05/01/2020
Type ´date MM-DD-YYYY´ to change.

Z:\> time
Current time: 11:08:23,34
```

This feature is useful for running old batch scripts and bypassing date checks
in some old software.

### <a name="overlay" href="#overlay">§</a> Mount overlay support (SVN)

This feature allows user to transparently redirect new and changed files
to a different location. The files in the overlay and normal drive are merged
on startup and kept up to date when the game writes something.

This feature is useful for redirecting save files or configuration files
to a different location (e.g. for backup or cloud saves).

Example usage:

``` text
Z:\> mount C real
Drive C is mounted as local directory real/

Z:\> mount C backup -t overlay
Overlay backup/ on drive C mounted.

Z:\> C:
C:\> echo foo > test.txt

C:\> type TEST.TXT
foo
```

File `TEST.TXT` is written to directory `backup`, and not to `real`.

## <a name="changelog" href="#changelog">§</a> Author Commits in Detail

The following is an inventory of dosbox-staging merged commits, broken down per-author. Commits are listed regardless of the project-of-origin to ensure all authors with content in dosbox-staging are duly credited.

| **Author** | **Commit Subject** |
|:---|:---|
| Alexey Khokholov | Add Nuked OPL3 emulator v1.8 |
| Anton Shepelev | Add output type texturepp for pixel-perfect scaling |
| | Include `<ctype.h>` to declare toupper() |
| | Provide aclocal with the path to additional .m4 files |
| | Add a missing include of stdio.h for snprintf() |
| Arthur Ouellet | Add built-in C++ object serializer [snapshot as of 2019-10-23] |
| David Reid | Sync dr_flac with upsteam (v0.12.11) |
| | Sync dr_mp3 with upsteam (v0.6.4) |
| | Sync dr_wav with upsteam (v0.12.1) |
| | Bump dr_flac to v0.12.9 |
| | Bump dr_mp3 to v0.6.1 |
| | Sync dr_wav with upsteam (v0.11.4) |
| | Sync dr_mp3 with upsteam (v0.5.5) |
| | Sync dr_flac with upsteam (v0.12.4) |
| | Bump dr_wav to v0.11.2 |
| | Bump dr_mp3 to v0.5.4 |
| | Bump dr_flac to v0.12.3 |
| | Bump dr_mp3 codec to v0.5.2 |
| | Add built-in WAV codec: dr_wav v0.11.1 |
| | Add built-in MP3 codec: dr_mp3 v0.5.1 |
| | Add built-in FLAC codec: dr_flac v0.12.2 |
| Joshua Fern | Update copyright dates to 2020 |
| Marco Maccaferri  | Fix handling of escape characters in softmodem |
| NicknineTheEagle | Describe phonebook feature in the manual |
| | Implement phone book to remap phone numbers to addresses for modem |
| | Fix auto-answer (S0) behavior in modem |
| | Implement DTR drop actions (&Dn) and DTR drop delay (S25) in modem |
| | Fix a bug with backspace handling in modem |
| Nopey Nope | Add and document KeyMapper reloading |
| Oldman | Strip trailing white-space as a pre-commit hook |
| Patrick McMorris | Organize files in VS solution |
| | Enable parallel builds in VS for all configs |
| Patryk Obara | Update version string in buildsystem |
| | Freeze the name on keymapper file |
| | Use stable release branding |
| | Update some hardcoded info |
| | Remove some outdated info and update manuals |
| | Remove greetings and update project URL |
| | Add favicon targets to the contrib/icons/ makefile |
| | Add platform-specific notes about config dir |
| | Move implementation to GetConfigName static function |
| | Update manuals regarding configuration path |
| | Avoid spaces in config file name on macOS |
| | Adjust first comment in .conf file |
| | Respect XDG spec for dosbox main .conf file |
| | Remove punctuation from some logs |
| | Update list of feature differences compared to SVN |
| | Update snapshot build to use Ubuntu 18.04 LTS |
| | Add an option for libpng static linking |
| | Package icons in Linux snapshot builds |
| | Add Linux desktop icons according to XDG spec |
| | Use half-pause character as title separator |
| | Use new icon in Windows builds |
| | Store pre-rendered icon in Windows .ico format |
| | Set new 128px icon |
| | Create new icon data |
| | Add static_casts for few VGA modeinfo fields |
| | Create byteorder header for host_to_le functions |
| | Hide remaining OpenGL parts behind C_OPENGL ifdef |
| | Inform user about allowed windowresolution bounds |
| | Create aliases for boolean SetWindowMode parameters |
| | Rework interface of GetAvailableArea function |
| | Replace Bitu with size_t when drawing surface |
| | Add SPDX identifier in sdlmain.cpp |
| | Check if window exists before making it resizable |
| | Remove HandleVideoResize call from SetWindowMode |
| | Add windowresolution options: 'resizable' and 'default' |
| | Update minimum window size |
| | Update clip when window is being resized |
| | Cleanup and initialize all fields in sdl.draw |
| | Restore redraw instead of reset during expose |
| | Make window resizable with a minimum size |
| | Calculate clip stretching inside the window |
| | Watch window resize events |
| | Add want_resizable_window flag |
| | Add 'resizable' parameter to SetWindowMode |
| | Implement iround helper function |
| | Update allowed warnings limits |
| | Update allowed warnings limits |
| | Fix window size and position when leaving fullscreen |
| | Log SDL window events |
| | Add DEBUG_LOG_MSG macro |
| | Improved windowresolution handling |
| | Allow selecting windowresolution only on start |
| | Change default render.scaler to "none" |
| | Wrap description of sdl.mapperfile in .conf file |
| | Make HandleVideoResize a static function |
| | Fix Coverity warnings about BlockRead/Write |
| | Fix effc++ warnings in ems.cpp |
| | Use more reference links in the readme file |
| | Update URLs in README.md |
| | Change Config::PrintConfig to use std::string |
| | Cleanup windows title |
| | Update program name in shell startup messages |
| | Update --version information |
| | Reformat OpenGL log line |
| | Reformat texture_renderer log |
| | Reformat pixel-perfect related logs |
| | Remove SDL 1.2 SDL_DISABLE_LOCK_KEYS hack |
| | Restore display setting property |
| | Remove misleading comment |
| | Update README sections |
| | Update clang-format rules to 9.0 |
| | Implement script for re-formatting recent commits |
| | Add clang-format rules |
| | Cleanup workflow files |
| | Move PVS Studio static analysis to a separate file |
| | Update maintainers list in workflow |
| | Update allowed warnings limits |
| | Fix few trivial warnings in macOS code |
| | Make block_fnum unsigned in fmopl |
| | Bring back C++11 foreach loop in fmopl |
| | Change bpp to unsigned int around render code |
| | Prevent empty property names |
| | Initialize all members of Property class |
| | Cleanup MIDI/ALSA-related logs |
| | Adjust help strings for sdl options |
| | Declare sdl.vsync as deprecated/disabled |
| | Allow config properties to be deprecated |
| | Skip splash screen if resolution is not large enough |
| | Rename gimp_image to splash_image |
| | Fix splash screen for surface output |
| | Remove dead code remains of "lazy_fullscreen" feature |
| | Fix indirect memory leak of icon surface |
| | Define SDL rgb-masks for creating surfaces |
| | Initialize default window size before GUI_StartUp |
| | Move "extern C" to ppscale header |
| | Handle surface as the last option during update |
| | Prevent a crash in Windows AMD drivers |
| | Store SDL texture render driver as std::string |
| | Replace Lock/UnlockTexture with UpdateTexture |
| | Update description of sdl.windowresolution |
| | Remove old splash screen |
| | Update splash screen to use 4:3 aspect ratio |
| | Destroy SDL resources in the proper order |
| | Set icon after sdl.window is created |
| | Fix effc++ warnings in control.h |
| | Start with the correct full/window resolution |
| | Display splash screen using GFX API |
| | Cleanup and document GFX_StartUpdate function |
| | Remove dead code remains of WinDIB usage |
| | Turn on CI jobs for pull_request event |
| | Update allowed warnings limits |
| | Initialize srcval on all codepaths in xga |
| | Change GetMixResult mixmode to uint32_t |
| | Change DrawWaitSub mixmode to uint32_t |
| | Make XGA_DrawWaitSub a static function |
| | Make XGA_GetMixResult a static function |
| | Inject newlines before displaying DOS prompt |
| | Update feature comparison in README.md |
| | Disable unnecessary sanitizers |
| | Move sanitizer selection to matrix |
| | Set sanitizer issue limits |
| | Run sanitizer counter on available logs |
| | Implement counter for sanitizer issues |
| | Rename count-bugs to count-clang-bugs |
| | Fix README links to macOS release jobs |
| | Temporarily disable stripping for CI MSYS2 cache |
| | Specify -march=nehalem for macOS snapshot builds |
| | Update note about snapshot builds downloads |
| | Build opusfile libs for macOS snapshots |
| | Document link to macOS snapshot builds in README |
| | Link to master builds only from README file |
| | Add an option for static linking of SDL2 |
| | Use AS_HELP_STRING macro for optional autoconf parameters |
| | Add a script for creating macOS app bundle |
| | Add macOS release CI job |
| | Add an option for disabling networking features |
| | Set default display units as px in svg icons |
| | Remove .ico LFS artifact from repo |
| | Document icons rendering for all OSes |
| | Use rsvg-convert to render icons in all sizes |
| | Remove .icns file from repo |
| | Update allowed warnings limits |
| | Fix format warnings in cpu (dyn_fpu_esc3) |
| | Fix format warnings in cpu (dh_fpu_esc3) |
| | Prevent null pointer dereference when checking program args |
| | Avoid integer overflow in bios_disk |
| | Avoid division by zero when initializing pcspeaker |
| | Fix memory leak in dos_execute |
| | Avoid counting duplicate warnings |
| | Use _fileno only with MSVC compiler |
| | Allow GNU extensions for GCC to avoid MinGW bugs |
| | Include cassert header in vga |
| | Silence buffer overrun Coverity warning |
| | Silence buffer overflow false-positives |
| | Silence few false-positive buffer overflow issues |
| | Fix buffer overflow in CMD_PATH |
| | Update allowed PVS issues limit |
| | Update allowed PVS issues limit |
| | Avoid buffer underflow by copying all fields |
| | Replace var_read with host_to_le where possible |
| | Revert "Enhance capturing to handle unchanged screens (…)" r4329 |
| | Fix window position when starting in fullscreen |
| | Fix window position when switching to windowed mode |
| | Update allowed warnings limits |
| | Initialize TCPsocket to nullptr |
| | Make TCPClientSocket field private |
| | Cleanup ifdef guards in serialport misc util |
| | Initialize missed fields in TCPClientSocket |
| | Remove some duplicated code in serialport |
| | Update allowed PVS issues limit |
| | Change 'sblaster.oplemu = default' to select 'nuked' |
| | Change 'render.glshader' default to 'sharp' |
| | Change 'sdl.fullresolution' default to 'desktop' |
| | Change 'sdl.capture_mouse' default to 'seamless middlerelease' |
| | Change 'sdl.output' default to 'opengl' |
| | Print newline after 'config -axadd' |
| | Print newline after 'config -wcd' |
| | Print newline after 'config -l' |
| | Fix crash on 'config -get "foo bar"' |
| | Print newline after 'config /?' |
| | Format help section for 'render.scaler' for 80 columns |
| | Change 'render.aspect' default to 'true' |
| | Update allowed issues limit |
| | Update issues limit for new clang static analyser |
| | Remove useless cast |
| | Avoid duplicated calls to buf.str() |
| | Prevent compilation of unreachable code |
| | Use memory safe container for GL error log |
| | Update allowed warnings limits |
| | Initialize imm variable |
| | Update allowed warnings limits |
| | Byteswap captured audio samples on PPC |
| | Revert "Rewrite video capturing and (…)" r4314 |
| | Revert "Some graphics cards return (…)" r4315 |
| | Be more precise about CGA support in upstream |
| | Mention CGA/mono in README.md |
| | Use safe_strcat |
| | Use unsigned for numbers in shortened filenames |
| | Reorder includes for drive_cache |
| | Remove pointless GCC_UNLIKELY from name shortener |
| | Update allowed warnings limits |
| | Unifdef unused function in mame implementation |
| | Annotate auto_free with 'inline' to prevent redefinition |
| | Unifdef unused scaler implementations |
| | Mention macOS test snapshot issue in README.md |
| | Update allowed warnings limits |
| | Swap bytes for 15bpp and 16bpp screenshots on PPC |
| | Fix printf warning |
| | Store generated .ico and .icns files |
| | Track `*.ico` and `*.icns` files as LFS artefacts |
| | Add target for creating .ico file |
| | Add macOS dir prefs to gitignore |
| | Add makefile for creating .icns file |
| | Add dosbox-staging icon |
| | Update allowed warnings limits |
| | Remove unused private field |
| | Remove usage of register storage specifier |
| | Update allowed issues limit |
| | Update info about snapshot downloads |
| | Rename snapshot build artifacts |
| | Update allowed issues limit |
| | Disable screenshots in Linux snapshot builds again |
| | Use dosbox-staging splash screen |
| | Disable line length rule for markdownlint |
| | Add a note about Wayland support |
| | Re-create MSYS2 cache for Windows workflow |
| | Remove Visual Studio references from autoconf |
| | Move autoheader bits to configure.ac |
| | Move AM_PATH_SDL to m4 dir |
| | Move AM_PATH_ALSA macro to m4 dir |
| | Bundle autoconf ax_cxx_* macros |
| | Update allowed warnings limits |
| | Fix MSVC stricmp-related warnings |
| | Cleanup int10 includes in ints module |
| | Avoid switch warnings in SetVideoMode* functions |
| | Make setter for RO-medium flag a virtual method |
| | Prevent resource leak during screenshot |
| | Silence Coverity issue in SDL_sound |
| | Fix format warnings in fpu |
| | Redefine fileno for Windows |
| | Remove unused RAW_SIZE define |
| | Mention nuked in README.md |
| | Adjust formatting of sblaster section in .conf file |
| | Simplify creation of OPL handler |
| | Include only necessary headers in nukedopl |
| | Update NukedOPL::Handler to C++11 |
| | Add nuked to main VS project file |
| | Move nukedopl to libs |
| | Update allowed warnings limits |
| | Prevent unaligned memory access in adlib |
| | Fix effc++ warnings in adlib code |
| | Use correct type for printf field size specifier |
| | Move drives.h to common include dir |
| | Fix effc++ warnings in drives.cpp |
| | Remove false friend declarations |
| | Update copyright line in several scripts |
| | Remove unused functions in cpu area |
| | Stop silencing disabled C4786 MSVC warning |
| | Stop silencing 'throw' warnings in MSVC |
| | Stop silencing deprecation warnings in MSVC |
| | Move GCC_ATTRIBUTE out of autoconf |
| | Remove unnecessary check for XKBlib.h |
| | Add missing headers to autoconfig file |
| | Move 'likely' macros to the compiler support header |
| | Update allowed warnings limits |
| | Silence switch warnings for int10 scanline |
| | Silence format warning |
| | Disable unused function in adlib |
| | Print a newline after 'path' command |
| | Print a newline after user makes a choice |
| | Add an assert in 'choice' command |
| | Hide SoundBlaster autoexec line |
| | Fix a number of effc++ warnings in shell code |
| | Fix output of 'dir /w /p' and edge cases |
| | Print volume/drive label in 'dir' cmd |
| | Fix conversion warnings after SDL2 transition |
| | Remove unused macro definitions |
| | Remove note about additional dependencies. |
| | Query SDL for available texture renderers |
| | Change sdl.renderer to sdl.texture_renderer |
| | Surround WIN32_LEAN_AND_MEAN with ifndef |
| | Indicate system includes for relevant SDL headers |
| | Remove irrelevant ifdefs from unifdef-all script |
| | Update note about CD-DA support |
| | Update allowed warnings limits |
| | Remove reference to SDL 1.2 Caps Lock hack |
| | Fix large number of effc++ warnings in sdl_mapper |
| | Re-enable screenshots feature for snapshot builds |
| | Update README.md with SDL2 information |
| | Remove GFX_SetPalette |
| | Update SDL2 description in INSTALL file |
| | Update the list of output values in README |
| | Remove patch for SDL1 sources |
| | Remove last remains of DirectDraw renderer |
| | Reorder includes in sdl_mapper |
| | Fix warnings related to misuse of SDL2 types |
| | Update VS solution to target SDL2 |
| | Update fake SDL headers for MSVC |
| | Update CI to target SDL2 |
| | Update buildsystem to target SDL2 |
| | Replace SDL 1.2 with SDL 2.0 |
| | Fix output formatting of 'dir' command |
| | Adjust 'help /all' to fixed 'pause' |
| | Do not print newline after every command |
| | Display newline after key was pressed in 'pause' cmd |
| | Update allowed warnings limits |
| | Remove extern global variable from bios_disk.h |
| | Simplify swapInDisks function |
| | Use shared_ptr to prevent double free on imageDisk |
| | Remove PHYSICAL_CD from MountType enum |
| | Update MSF conversion functions |
| | Fix a number of effc++ warnings |
| | Add user-visible warnings about removed options |
| | Move GetMountType to dos_mscdex file |
| | Create dos_mscdex header |
| | Introduce MountType enum for CDROM_GetMountType |
| | Remove dead code for force selecting CD drive |
| | Remove CDROM_USE_SDL enum value |
| | Update INTRO CDROM text |
| | Remove all physical CD-ROM references from manual |
| | Remove SDL_cdrom 1.2 based CD-ROM interfaces |
| | Remove inaccurate information from INTRO |
| | Display a warning when user requests -ioctl |
| | Remove MCI, DX, and DIO CD-ROM interfaces |
| | Avoid libpng 1.2 dependency for Ubuntu releases |
| | Reverse sort by count and item name in the summary |
| | Add an option to list all warnings |
| | Add an option to group warnings by files |
| | Set the default max limit of warnings to 0 |
| | Update allowed warnings limits |
| | Add URLs for branches to README.md |
| | Update allowed warnings limits |
| | Silence 12 switch warnings |
| | Fix usage of uninitialized value in dos_mscdex |
| | Fix out-of-bounds access error |
| | Remove files used only by ASPI support |
| | Remove ASPI CD-ROM interface |
| | Reformat the enum with CD-ROM interfaces |
| | Remove code ifdefed for OS/2 |
| | Add CFLAGS to Linux release job |
| | Invalidate MSYS2 cache based on week number |
| | Create "Inject version" step for Linux release job |
| | Add more files to Windows snapshots |
| | Add Windows snapshot instructions to README.md |
| | Update optimization level for Release in VS builds |
| | Update version in config.h and resource script |
| | Create Windows dev release job |
| | Reorganize Windows workflow file |
| | Rename directory with Visual Studio solution |
| | Use python explicitly in pwsh |
| | Revert "Test if double-zip is detected" |
| | Test if double-zip is detected |
| | Use fixed name for a GitHub-generated zip |
| | Replace version with brand for .conf file suffix |
| | Create package-specific README file |
| | Add snapshot instructions to README.md |
| | Create Linux dev release job |
| | Move autoconfig-mandated files to docs/upstream |
| | Fix wrong function name in the exception log |
| | Update allowed warnings limits |
| | Move definition out of autoconfig |
| | Revert "Enable Coverity "streams"" |
| | Enable Coverity "streams" |
| | Revert "Break compilation to test GitHub badges" |
| | Fix badge URLs |
| | Revert "Test badges sans links" |
| | Test badges sans links |
| | Test shields.io badges |
| | Break compilation to test GitHub badges |
| | Remove Coverity badge |
| | Update allowed warnings limits |
| | Use matrix to simplify Linux workflow |
| | Remove unused private field in device_EMM |
| | Remove unused private field in fatFile |
| | Silence "unused-const-variable" warning |
| | Fix "unused-variable" warning |
| | Fix "misleading-indentation" warnings |
| | Change the length of version field in infobox |
| | Use full-width asterisk glyph for README.md notes |
| | Remove pointless switch causing warnings |
| | Fix a resource leak |
| | Document the project in README.md |
| | Use make's output-sync to prevent log corruption |
| | Update allowed warnings limits |
| | Fix several unused-private-field warnings |
| | Silence 2 switch warnings |
| | Remove several unused variables in zmbv |
| | Silence a number of switch warnings in zmbv |
| | Silence static analysis false-positive garbage value |
| | Silence a number of switch warnings in vga_xga |
| | Avoid passing null to strcat |
| | Properly fix warnings about unused variable |
| | Update allowed warnings limit |
| | Remove SpeexDSP mention from the documentation |
| | Update allowed warnings limit |
| | Fix several printf format warnings |
| | Silence several sometimes-uninitialized warnings |
| | Remove unused variable |
| | Remove unused function |
| | Fix unused-function warning |
| | Silence a number of switch warnings |
| | Colorize linter output |
| | Force python3 pylint |
| | List files before running linters |
| | Fix order of includes in Windows-specific files |
| | Remove -DWIN32 from build.sh |
| | Propagate return code in the msys2 bash wrapper |
| | Run fast script linters before heavier analysis |
| | Rename workflow file for static code analysis |
| | Remove unused bash variable |
| | Remove unnecessary use of a comprehension |
| | Change module documentation to a raw string |
| | Add asserts to prevent a potential bug |
| | Add cases for missing SynthMode enumerations |
| | Explicitly use C++11 for compilation |
| | Use macos-latest and windows-latest in CI jobs |
| | Create a wrapper for MSYS2 bash CI environment |
| | Use apt-get instead of apt |
| | Update allowed warnings limit |
| | Add DOSBox splash screen graphic in vector format |
| | Prevent potential null pointer dereference |
| | Silence compiler warnings introduced in r4277 |
| | Replace MSF_TO_FRAMES, FRAMES_TO_MSF macros |
| | Implement frames/MSF conversion as functions |
| | Update allowed warnings limit |
| | Log environment on CI machines |
| | Replace an authorsfile with a script |
| | Add alternative for git-log for SVN users |
| | Update allowed warnings limit |
| | Transform zmbv into a project inside dosbox solution |
| | Upgrade zmbv solution and project to VS2019 |
| | Upgrade dosbox solution and project to VS2019 |
| | Simplify build workflow |
| | Increase allowed warnings limit |
| | Update package repositories before build |
| | Enforce limit on issues found in static analysis |
| | Set the upper limit on warnings number |
| | Create initial GitHub Workflows setup |
| | Use "git" to identify builds from master branch |
| | Implement unifdef-all script |
| | Import svn:ignore props to .gitignore files |
| | Add a script for importing svn:ignore props |
| Peter Veenstra | 0.74-3:mac os x default output change also in trunk now |
| | refine 4315 a bit. At least on windows, an overlay needs to be locked before the real pitch data is returned instead of a wild pointer |
| | Optimize xchg a bit. (jmarsh) |
| | Make value operator== const, add some limit checks in PrintConfigfile and related functions. Unify style a bit more. |
| | missing line ends and a warning fix |
| | some big endian improvents and drive_fat fixes. (jmarsh) |
| | Enhance capturing to handle unchanged screens more efficiently(jmarsh) |
| | Small cleanup and move to ++i instead of i++ for iterators in this file |
| | remove unused variable |
| | Add patch 285 from MHM to fix bug 367, mimics the normal event.gain code |
| | fix two tiny bugs introduced by 4065. |
| | Fix bug 469. Give 640x480 and upwards square pixels and several fixes for high colour modes. (jmarsh) |
| | Fix compilation for platforms where the include guard is different and the exported symbol was changed by Khronos. |
| | Improve logging and OS X support (jmarsh). |
| | Some fixes to 4319 by jmarsh. |
| | Add OpenGL shader support. (patch by ny00123 and refined by jmarsh). Add several builtin ones that mimic the scalers and some extra. Thanks jmarsh |
| | Add LOGC to log cs:ip only. Modified version of patch 282 from Scott Percival. |
| | Increase limits a bit more for people who want to use that. |
| | Limit max software scaler line limit to a 4k monitor. (relevant for people who use larger scalers) |
| | Some graphics cards return a too small overlay when the size is larger than 1024. Fall back in that case. |
| | Rewrite video capturing and fix some endian issues with all captures as well. Thanks jmarsh |
| | Quick fix for vgaonly on BIGENDIAN.(jmarsh) |
| | Fix unintentional change of union to struct. |
| | Make scalerwritecache sizes depend on the maximum scaler size. |
| | Improve PMAKE on big endian machines and fix some bugs. Includes fix from #364. (jmarsh) |
| | Copy working directory when mounting an overlay. Add some more strings to language file. |
| | Move already mounted checks upwards. (jmarsh) |
| | Refinement of the checks, so no IRQ is raised when not in autodma mode. |
| | Add OpenGL error reporting (disabled by default) Add way to restart graphics subsystem on fullscreen/windowed mode transitions in OpenGL mode (disabled by default) Add check for pixels being valid in OpenGL to prevent direct crash when the allocation fails. Add define to turn off Pixel Buffer Object usage. (disabled by default) Add a way to specify the windowresolution as percentage of your current resolution. (This centers the window.) |
| | Log detected extensions and correct spacing. |
| | Force a flush, so the last data is there incase of a hard crash. |
| | Disable scaling by the OS on windows (scale != 100%). Could not get this working through the manifest, but this seems to work as well. |
| | Fix xcmpchg in dyn_x86 core. Allows Quickview to work in that core; reported by krcroft. Fixed/patch by jmarsh. Thanks! |
| | Additional refinements and speed ups. Thanks jmarsh! |
| | Merge 0.74-3 Changelog and NEWS into trunk. Fixes bug #522 |
| | Simplify and correct flags handling so that childpsp works correctly and some misc fixes. |
| | Set cursor speed to the vga standard of 32 frames for a full period. Hope that this is correct for the other machines as well. Fix that frameskip would slow down the cursor blinking speed. |
| | Fix bug #519 |
| | Fix bug #520 |
| | a=a can trigger warnings as well. This should be hopefully do the trick. |
| | Remove some old code and do an a=a to trick a compiler in non-debug mode |
| | Refinements of commit 4291, so that precission can be specified as well and less fixed defines are used |
| | Try to solve the Bitu formatting warning on all supported platforms (both 32 and 64 bit). Did a few places. Still a lot to go. Changed default display of Bitu to be unsigned instead of signed. |
| | Typo's. |
| | Init some more fields in the constructors, else uninited stuff gets copied in copy constructors. |
| | Fix double to be (or not to be ;) |
| | update configure -h output for dynamic x64 |
| | Update INSTALL file (modified version of patch #283 by dreamer_) |
| | Stuff written to the console needs a cariage return since 4114. Thanks for spotting this dreamer_. |
| | Fix some issues with commit 4282. Thanks dreamer_ and jmarsh. |
| | Switch to a different way to calculate the table offsets. Thanks jmarsh |
| | Make it possible to compile without CoreMIDI and CoreAudio on Mac OS X using a non-Apple compiler. Give some feedback to user in this case. (modified version of patch by krcroft with input from jmarsh, Dominus and Qbix) |
| | GenerateDMASound can generate sound even with input size is 0, so lets not do that. Might even be an option to skip this call entirely depending on the sblaster configuration (not sb.dma.autoinit) |
| | Make it easier to compile 64 builds with visual studio, (see comment for drawback). |
| | fix externals. |
| | Make frameskip an integer. |
| | Fix boundary checks for word/dword memory access. Speeds up dynamic 32 bit core a bit (thanks jmarsh). |
| | A little cleanup and small speed up (jmarsh) |
| | Change OpenGL drawing routine to draw one big oversized TRIANGLE instead of a QUAD in order to work around an Nvidia specific scaling bug. Fixes bug #515. |
| | Use fabsf when return value is a float. Small warning fix. |
| | Fix several logic errors with regards to deleted directories. Should fix that directories with the same length as a deleted directory had some small issues. Also blocks the creation of files in directories marked as deleted. Small speed up to MakeDir, so it doesn't rely on mkdir when a directory is created inside a deleted directory. |
| | - Fix url to forum. - Fix Bit8u instead of char weirdness for imageDisk (dreamer_) - Give device_t a virtual empty destructor so some warning program   doesn't go crazy. - Give the code that moves the Z drive its own function for readability. - Give sizes arrays default values again for warning program. - Rewrite IMGMOUNT in order to exit early for clarity and attempt   to group things together. |
| | Some more cleanups and memleak fixes. |
| | Pick some lowhanging fruit. (some memory leaks and unused variables) |
| | use delete instead of free, although this code is never really used, as the running process should have been replaced at that point. |
| | missed one |
| | These actually use float as input. |
| | Add 64-bit support to dynamic_x86 core from vogons topic 67673. Thanks jmarsh! |
| Ryan C. Gordon | Add built-in SDL_sound r599 |
| Sean Barrett | Add built-in Vorbis codec: stb_vorbis v1.17 |
| Sjoerd van der Berg | Some dma changes to make the world a better place |
| | Fix sblaster autoinit restart and improve the auto into single cycle transfer handling |
| VileRancour | Add cga_mono machine |
| Wouter Wijsman | Added Emulator category to desktop file |
| | Updated desktop file |
| | Add desktop file for Linux |
| Yann Collet | Sync xxHash with upstream (v0.7.3) |
| | Add built-in Extremely Fast Hash algorithm: xxHash [snapshot as of 2019-10-23] |
| kcgen | Use more robust method to get the scripts directory |
| | Don't initialize and manage joysticks in SDLmain |
| | Conditionally initialize the joystick subsystem |
| | Defer laying out the UI until the first key bind event |
| | Sync PVS Studio with upstream |
| | Ignore re-assignment warnings in PVS-Studio |
| | Cleanup switch/case formatting |
| | Simplify assignments with type-sized host reads |
| | Use type-specific host conversion funcs |
| | Make use of indexed reads and writes |
| | Add host read-and-write funcs with index support |
| | Eliminate old host_to_le functions |
| | Ignore intermediate files generated by ./configure |
| | Remove unecessary dereferences and casts |
| | Reset the Windows MSYS2 cache incrementer |
| | Update allowed warning limits |
| | Add aliasing warnings to the warnmore target |
| | Enable strict aliasing for release builds |
| | Fix alignment when populating the VESA mode block |
| | Fix alignment when writing the jump value to memory |
| | Fix alignment when adding a jump value to the cache |
| | Fix alignment when saving the branch value |
| | Fix alignment when assigning a cache diff value |
| | Fix alignment when incrementing values in the cache |
| | Fix alignment when fetching values in the decoder |
| | Fix alignment when incrementing the invalidation map |
| | Fix alignment when writing to the cache |
| | Fix alignment when reading values from the write-map |
| | Make host-mem functions endian-safe and alignment-safe |
| | Add ARM platforms to the build script |
| | Statically link libasan during ASAN builds |
| | Add memory-count instrumentation to Clang MSAN builds |
| | Make sanitizers platform-agnostic |
| | Append to lists to avoid clobbering |
| | Add an 'optinfo' build target |
| | Update allowed warnings limits |
| | Remove a couple erroneous null-pointer assertions |
| | Add AUTOTYPE to DOSBox's programs |
| | Conform to white-space convention in GPL's copyright line |
| | Add header guard |
| | Add copyright header |
| | Apply clang-format rules |
| | Update allowed warnings limits |
| | Cleanup PVS warning about uninitialized members |
| | Cleanup PVS warning unecessary code |
| | Cleanup PVS warning regarding combersome empty checks |
| | Cleanup PVS warning regarding unecessary copy |
| | Use references when catching polymorphic exceptions |
| | Mark a function const |
| | Clarify choice of wrap-width |
| | Use WriteOut_NoParsing where possible |
| | Validate string to double using std::isfinite |
| | Add AUTOTYPE to DOSBox's programs |
| | Ensure seeks and reads are within bounds of the track length |
| | Expand use and support for LTO and FDO builds |
| | Improve comment about EXPOSED event |
| | Eliminate redundant use void arguments |
| | Assess the mouse capture state when gaining window focus |
| | Update allowed warning count |
| | Update PVS Studio to version 7.06.37052.34 |
| | Make a second harder attempt to seek if needed |
| | Use ISO date format for ccache keys |
| | Use ccache in the CI workflows |
| | Use ccache if available |
| | Update allowed warnings limits |
| | Track and free unassigned CStickBindGroup allocations |
| | Only initialize the mapper once during startup |
| | Add Code of Conduct |
| | Selectively enable MarkDown line-length checking |
| | Update allowed warnings limits |
| | Use prefix form of incrementing iterators |
| | Explicitly ignore some return values |
| | Prevent undefined behavior while bit-shifting on 32bit systems |
| | Simplify joystick type assignment logic |
| | Refactor and make the joystick querier re-runnable |
| | Move member initialization to the definition |
| | Cleanup leaks |
| | Allow finer grain tracing for debug builds |
| | Handle user-defined sets of files |
| | Add a script to check if `<ctype>` is included before `<algorithm>` |
| | Add a script to capture preprocessor #define statements |
| | Prevent env:OPUSFILE_LIBS from enabling Opus |
| | Ensure the first seek isn't cached |
| | Refresh copyrights and headers |
| | Bump the MP3 fast-seek-table's version identifier |
| | Update the existing PVS false-positives for xxHash v0.7.3 |
| | Use static assert feedback instead of convoluted template failure messages |
| | Whitespace cleanup |
| | Add a signed integer ceiling divide function |
| | Cleanup file size and header length check |
| | Simplify conditional logic |
| | Use auto when type is explicitly cast |
| | Drop "[bug]" postfix in assets |
| | Curtail an excessively noisy DEBUG output case |
| | Let the code describe the functionality when reading sectors |
| | Add support for mono tracks when performing DAE (digital-audio-extraction) |
| | Improve seeking for audio tracks |
| | Replace code with existing support function |
| | Allow the code to describe the return value |
| | Make more logic assertions and cleanup multi-line comments |
| | Refine types and eliminate implicit-casting and magic-numbers |
| | Define more CD-DA magic numbers |
| | Add an integer division and ceiling helper function |
| | Handle and fix small-block reads from decoder interfaces |
| | Cleanup debug and on-error handling |
| | Perform some minor house-keeping in the mp3 and seek handler |
| | Use C++ typing in Opus decoding interface |
| | Migrate Opus decoding interface to C++ |
| | Fix iterator-past-end-of-container Coverity warning |
| | Address code-review comments (squash-me) |
| | Reserve the trackFile shared_ptr prior to its test |
| | Expand trackFile's shared_ptr life |
| | Use MixerObject's singleton-pattern to manage the channel |
| | Migrate some members of the Player class to smart pointers |
| | Constrain the Gravis UltraSound's playback frequency selection |
| | Switch write protected set to unordered_set |
| | Add DEBUG messages for protected-file handling |
| | Fix spacing and effc++ warnings |
| | Permit the use of protected game data files |
| | Fix a pointer invalidation corner-case in CD-DA |
| | Only resize the sendbuffer if needed |
| | Be explicit when we lose precision and change signedness |
| | Use K&R indents with some if statements |
| | Simplify by using the _TCPsocketX struct as-is |
| | Add partial DAE support for compressed Redbook-compliant tracks |
| | Fix sector 0 playback bug |
| | Improve layout of storage directory |
| | Expire records and cache at different timeframes |
| | Let user specify branch(es) to operate on |
| | Reword the serial port documentation |
| | Document DOSBox's BBS Gaming features |
| | Ignore original (.orig) and reject (.rej) patch-failure files |
| | Check dependencies and improve messages |
| | Store GitHub credentials using git |
| | Add a script to fetch and diff GitHub workflow logs |
| | Remove unecessary check and zeroing of arguments |
| | Reduce the track number's type to comply with MSCDEX |
| | Update allowed warnings limits |
| | Refactor slightly to clarify the flow and move to one return-point |
| | Make the MSCDEX Audio Disk Info return compliant track-ranges |
| | Simplify Pause and Stop CD states |
| | Mimick CD players when first positioning the play head |
| | Use "=" assignment when creating references and iterators |
| | Simplify some combersome math statements |
| | Reformat a couple statements and improve some log messages |
| | Simplify ISO size calculation |
| | Refine types and sizes to more accurately reflect the values they hold |
| | Fix six Coverity and PVS analysis bugs |
| | Fixup all effc++ warnings |
| | Expand mouse control methods |
| | Fix audio-related static analysis issues |
| | Test more criteria during PVS analysis |
| | Stamp the PVS analysis directory with time-and-commit details |
| | Fix autoconf nuances with AM_CONDITIONAL |
| | Allow Opus CDDA support to be optionally disabled |
| | Formatting and review fixes |
| | Improve compliance when printing drive labels |
| | Adjust workflow warning and bug counts |
| | Fix NULL issues in programs-related code |
| | Fix NULL issues in shell code |
| | Fix NULL issues in render_templates_hq.h |
| | Test NULL checks in dr_flac |
| | Fix NULL issues in memory.cpp |
| | Fix NULL issues in zmbv.cpp |
| | Fix NULL issues in OPL code |
| | Fix NULL issues in drive-related code |
| | Fix NULL issues in CPU emulation code |
| | Fix static-analysis issues in cdrom_image |
| | Ignore PVS-Studio false-positives |
| | Prevent autoconf leaking tokens into configure |
| | Use GNU make < 4.x define syntax |
| | Count the bugs reported by PVS-Studio |
| | Make downloading more robust and helpful |
| | Set BASH shell in Config Heavy's commit-check |
| | Unify Windows installations |
| | Only run config heavy if our repo has commits |
| | Cache the PVS-Studio package |
| | Add PVS-Studio to our static-analysis workflow |
| | Create a combined Clang+GCC cache under Windows |
| | Remove ClearTracks() and fix ref-assignment |
| | Switch from static to dynamically-linked libstdc++ |
| | Fix double-free in destructor of CDROM_Interface_Image |
| | Make MD docs comply with markdownlint |
| | Verify Markdown documents in linting workflow |
| | Reinstate Coverity scanning |
| | Add -framework CoreFoundation, which CoreMIDI depends on |
| | Adjust time at which "Config heavy" runs |
| | Fixed --enabled-debug on Windows MSYS2 |
| | Pull the entire repo for release bulds |
| | Back-out change for the release build (?) |
| | Only checkout the target branch |
| | Add all OSes to the workflow |
| | Add empty file to hide automator warning |
| | Allow extra arguments to become ./configure flags |
| | Add ability to exclude packages by pattern |
| | Add ncurses to installer packages |
| | Ensure make uses ASCII-only characters |
| | Add "warnmore" build-type to the build script |
| | Remove unecessary string quotes |
| | Add -DNDEBUG to common release flags |
| | Configure and build all allowable configurations |
| | Stop submitting builds to Coverity for now |
| | Switch from std::vector to std::array |
| | Make use of template variable, and reformat whitespace |
| | Replace strncat with safe_strcat where possible |
| | Fix unsafe memory operations and warnings in the fatDrive class |
| | Explicitly delete copy and assignment operators |
| | Memory overrun and C++11 updates |
| | Update allowed warnings limits |
| | Improve memory safety in the DOS Drive Cache class |
| | STB Vorbis: eliminate inaccessible branch |
| | STB Vorbis: prevent division by zero in decode_resign if ch == 0 |
| | STB Vorbis: Check before derefercing a potential NULL pointer |
| | Ensure alloca is not defined before defining |
| | Remove ineffective consts and indicate unused variables |
| | Avoid unecessary float-to-double promotion, and cleanup |
| | Use PRIuPTR and define it for Windows GCC 64-bit |
| | Harmonize refactoring of switch statement |
| | Cleanup printf types and explicitly state unused vars |
| | Fix uninitized scalar access |
| | Fix uninitized pointer accesses |
| | Contribute a static-opus builder |
| | Perform a daily Coverity Scan of the master branch |
| | Override architecture and host for 32-bit windows builds |
| | Play into subsequent track(s) if playback length exceeds the the current track |
| | Apply new warnings counts from master |
| | Refactor and expand the CI workflows |
| | Refactor the build and list-packages scripts |
| | Allow maximum-issues to be set via command-line |
| | Remove SpeexDSP from the CI configuration |
| | Remove conversion sources from the VisualStudio project |
| | Remove SpeexDSP from the auto-tools configuraiton |
| | Refactor CD-DA flow by removing intermediate buffers and loops |
| | Refactor and pass-through the decode buffer |
| | Eliminate buffers, conversions, and unused code |
| | Add the audio handling changes to the VS project |
| | Add the audio handling changes to build system and documentation |
| | Adapt and improve audio-handling in the CDROM sources |
| | Cleanup comments and NULL-handling in decoders |
| | Adapt the vorbis library to SDL_Sound's needs |
| | Add new dependencies to the workflows and scripts |
| | Add SDL decoders for their corresponding codecs |
| | Simplify package listing script and standardize workflows |
| | Simplify the task of making bit-field operations C and C++ compatible |
| | Make comment match reality |
| | Replace SDL_RWFromMem with more applicable SDL_RWFromConstMem |
| | Replace strncpy with snprintf |
| | Tailor SDL_Sound for interal use by DOSBox |
| | Expand CI coverage and move actions into scripts |
| | Simplify distclean target with recursive find |
| | Remove one duplicate and arange directories after files |
| | Augment the generate distclean target (fixes #14) |
| numberZero | Use sh-compatible syntax in configure.ac |
| ripsaw8080 | Correct an oversight of r4186 when floppy disks are mounted. |
| | Report Q-Channel track number in BCD, meaning it is not converted to binary by the CD-ROM device driver. Fixes the CD-Player feature of DOS Navigator 1.51 when playing past track 15. |
| | Correct an oversight in INT10_GetDACPage; fixes blank screen in Blue Force on vgaonly machine type. |
| | Remove cases not needed after r4276 |
| | Remove defunct code related to the initial display mode of the system BIOS during video mode changes. |
| | Bit 2 of video status register always set. Satisfies a strange test in Blues Brothers, thus preventing slow animations. |

This inventory was generated as follows:

``` shell
git shortlog ^v0.75.0-pre v0.75.0-rc1 --no-merges --reverse
```

Details for a specific commit can be described using:

``` shell
git log --grep="subject"
```

### <a name="changelog-libs" href="#changelog-libs">§</a> Merged-in community patches and libraries

The following lists those merges performed by maintainers either on behalf-of
or making use of patches or libraries authored by community members (in
alphabetic order).

**kcgen:**

- Add built-in xxHash (v0.7.3) (author: Yann Collet)
- Add built-in Vorbis codec: (v1.17) (author: Sean Barrett)
- Add built-in SDL_sound r599 (LGPL) (author: Ryan C. Gordon)
- Add built-in C++ object serializer (author: Arthur Cuellet)
- Add built-in FLAC codec: dr_flac v0.12.11 (author: David Reid)
- Add built-in MP3 codec: dr_mp3 v0.6.4 (author: David Reid)
- Add built-in WAV codec: dr_wav v0.12.1 (author: David Reid)

**Patryk Obara:**

- Replace SDL 1.2 with SDL 2.0 (based on work of: NY00123)
- Add Nuked OPL3 emulator v1.8 (author: Alexey Khokholov)

**Peter Veenstra:**

- Add OpenGL shader support. (author: ny00123 and refined by jmarsh)
- Add several builtin shaders that mimic the scalers and some extra  (author:
  jmarsh)
- Rewrite video capturing and fix some endian issues with all captures as well
  (author: jmarsh)
- Fix xcmpchg in dyn_x86 core. Allows Quickview to work in that core (author:
  jmarsh)
- Additional refinements and speed ups (author: jmarsh)
- Fix some issues with commit 4282 (authors: Patryk Obara and jmarsh)
- Switch to a different way to calculate the table offsets  (author: jmarsh)
- Fix boundary checks for word/dword memory access. Speeds up dynamic 32 bit
  core a bit (author: jmarsh)
- Add 64-bit support to dynamic_x86 core from vogons topic 67673 (author:
  jmarsh)

**Michael Zijlstra:**

- Add cga_mono machine (author: VileRancour)
