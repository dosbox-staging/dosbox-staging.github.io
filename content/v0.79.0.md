+++
title = "0.79.0 Release Notes"
date = 2022-09-19
+++

##  1. <a name='TableofContents'></a>Table of Contents

* [1. Table of Contents](#TableofContents)
* [2. Upgrade!](#Upgrade)
* [3. New Features in Detail](#NewFeatures)
  - [3.1. AdLib Gold Surround Module emulation](#AdLibGold)
  - [3.2. Sound card output filter emulation](#SoundOutputFilters)
  - [3.3. Crossfeed](#Crossfeed)
  - [3.4. Reverb & Chorus](#ReverbChorus)
  - [3.5. Master compressor](#MasterCompressor)
  - [3.6. General mixer improvements](#MixerImprovements)
  - [3.7. "One OPL mode to rule them all"](#NukedOPL)
  - [3.8. Shortcut to reload current shader](#ReloadShader)
  - [3.9. Override default CGA palette](#CgaColorOverrides)
* [4. Translation Updates](#TranslationUpdates)
* [5. Bugfixes](#Bugfixes)
* [6. Contributors](#Contributors)
* [7. Thank you](#ThankYou)


##  2. <a name='Upgrade'></a>Upgrade!

Download and launch the latest version:

* [Linux](/downloads/linux/) (or [Steam on Linux](/downloads/linux#steam))
* [Windows](/downloads/windows/)
* [macOS](/downloads/macos/)

At the DOSBox `C:\>` prompt, run: `config -wc` to upgrade your config file.
Your existing settings will be retained, however extraneous comments will be dropped.


##  3. <a name='NewFeatures'></a>New Features in Detail


### 3.1. <a name='AdLibGold'></a>AdLib Gold Surround Module emulation

The ultra-rare AdLib Gold surround sound daughterboard is now fully emulated, which makes it possible to finally enjoy the [Dune soundtrack](https://www.youtube.com/playlist?list=PLDE06DE88BB135F33) in its full glory! That's the only game in existence that makes use of the surround module.

The following config is recommended for [Dune](https://en.wikipedia.org/wiki/Dune_(video_game)). The setup utility should auto-detect AdLib Gold and the surround module correctly with these settings.

```ini
[sblaster]
sbtype = sb16
oplmode = opl3gold
```

### 3.2. <a name='SoundOutputFilters'></a>Sound card output filter emulation

Most DOS-era sound cards feature an output low-pass filter (and sometimes a high-pass filter too) that play an important part in giving their sound its character. DOSBox Staging can now accurately emulate these analog output stage filters for all supported sound devices.

#### Sound Blaster

For backward compatibility reasons, the `sb_filter` config parameter defaults to the newly introduced `modern` filter, which uses the simple linear interpolation method of previous DOSBox versions. To turn on accurate analog output filter emulation, set the `sb_filter` to `auto`. This will set the correct filters for each Sound Blaster model depending on the `sb_type` value. You can also set a model-specific filter manually if you wish, e.g. this is how to use a Sound Blaster 16 but with Sound Blaster Pro filters:

```ini
[sblaster]
sbtype = sb16
sb_filter = sbpro1
```

Some Sound Blaster models can toggle the filter on and off in software; you can force the filter to be always on by setting `sb_filter_always_on` to `true`.

OPL and CMS filters are also accurately emulated; please refer to the descriptions of the `opl_filter` and `cms_filter` config parameters for further details.


#### Small-speaker systems

Filters are enabled by default for all small-speaker audio systems (PC speaker, PS/1 Audio, Tandy, and the various LPT DAC options). Depending on the particular device, these filters either emulate the analog output filters of the original device, or the sound coming out of a small band-limited speaker in an acoustic environment. Either way, the result is a more period-accurate and pleasant listening experience, especially on headphones.

Small-speaker filters are controlled by the following config parameters:

* `lpt_dac_filter`
* `pcspeaker_filter`
* `ps1audio_dac_filter`
* `ps1audio_filter`
* `tandy_dac_filter`
* `tandy_filter`


#### Custom filters

Advanced users can specify custom filter settings for any of the supported sound devices. You can specify either a high-pass filter, a low-pass filter, or both at the same time using the following format

	TYPE ORDER FREQ [TYPE ORDER FREQ]

where **TYPE** can be `hpf` (high-pass) or `lpf` (low-pass), **ORDER** is the order of the filter from 1 to 16 (1st order results in a 6dB per octave slope, 2nd order in a 12dB per octave slope, etc.), and **FREQ** is the filter's cutoff frequency in Hz.

For example, to use a 2nd order (12dB/oct) low-pass filter at 8 kHz for the Sound Blaster:

```ini
sb_filter = lpf 2 8000
```

To use a 3rd order (18dB/oct) high-pass filter at 120 Hz, and a 1st order (6dB/oct) low-pass filter at 6.5 kHz for the PC Speaker:

```ini
pcspeaker_filter = hpf 3 120 lfp 1 6500
```

In addition to the sound devices mentioned above, you use custom filters even with devices that don't filter the output in the original hardware (e.g. GUS, MT-32), and the FluidSynth virtual MIDI device via the following config parameters:

* `fsynth_filter`
* `gus_filter`
* `innovation_filter`
* `mt32_filter`


### 3.3. <a name='Crossfeed'></a>Crossfeed

Listening to audio material on headphones where certain sounds are only present in either the left or the right channel can be a rather distracting and unpleasant experience. This is most noticeable on certain Dual OPL game soundtracks and tracker music (e.g. MOD, XM, S3M, IT, etc.)

The new crossfeed feature remedies that; by enabling `crossfeed`, a certain percentage of the left channel is mixed into the right, and vice versa. The default crossfeed strength is 40% which is a good general setting, but you can provide a custom percentage value as well (e.g. `crossfeed = 55`).

The amount of crossfeed can be fine-tuned per channel via mixer commands; please type `MIXER /?` in the DOSBox prompt for further details.


### 3.4. <a name='ReverbChorus'></a>Reverb & Chorus

One of the most exciting new audio features is the ability to add reverb (the emulation of real acoustic spaces) and chorus effects to any mixer channel. This can add a lot of atmosphere to dry-sounding synth soundtracks (typically OPL music) and elevate them to a whole new level! Enabling reverb and chorus processing is especially useful for headphone-listening.

The quickest way to enable reverb globally is to put `reverb = on` in the `[mixer]` config section. This will add reverb to all synth channels (e.g. PC Speaker, OPL, CMS), and a lesser amount to digital audio channels (e.g. Sound Blaster, GUS). While the default setting works well in most games, it's highly recommended to experiment with the five available reverb presets to find the optimal setting for each game:

* `tiny` simulates the sound of a small integrated speaker in a domestic room. This preset is specifically designed for small-speaker audio systems (PC Speaker, Tandy, PS/1 Audio, and LPT DAC devices).

* `small` adds a subtle sense of space; it's best suited for games that use a single synth channel (typically OPL) for both the music and the sound effects.

* `medium` is the default preset; it's a middle-of-the-road setting that works well with a wide variety of games.

* `large` is a large hall style reverb that is recommended for games that use separate audio channels for music and digital audio (e.g. OPL audio and Sound Blaster digital sound.)

* `huge` is a stronger variant of the large hall preset which is ideal for slower paced, atmospheric music.

Another way to add a sense of space to the sound is by enabling chorus processing. The effect is especially noticeable on headphones as it adds stereo movement and width to purely mono signals. To enable it, just put `chorus = on` into the `[mixer]` config section, or select one of three predefined chorus strength presets, `light`, `normal` or `strong`. Naturally, you can combine chorus and reverb, and it's generally recommended to do so for the best results.

Similarly to crossfeed, per-channel reverb and chorus settings can be tweaked by mixer commands; please type `MIXER /?` in the DOSBox prompt for details.


### 3.5. <a name='MasterCompressor'></a> Master compressor

An auto-leveling dynamic range compressor has been introduced on the master channel that ensures that the audio output never gets distorted, no matter how high the volume levels are. This is on by default, and is virtually transparent when the output is not driven into clipping. However, purists can disable it by setting `compressor` to `off`, and then ensure correct non-clipping output levels manually.


### 3.6. <a name='MixerImprovements'></a>General mixer improvements

- The mixer now uses a full floating-point processing path internally, which means you can no longer overload individual mixer channels into clipping by using high per-channel volume settings. As long as the summed master output is not clipping, it's guaranteed that nothing else will.

- A fixed high-pass filter at 20 Hz has been introduced right before the final output that gets rid of any DC-offset and subsonic rumble.

- The `MIXER` command has received an overhaul too. First of all, the output looks better, and the following improvements have been made:

  - Now you can set reverb, chorus and crossfeed levels per mixer channel; type `MIXER /?` in the DOSBox prompt for further details.
  - The `FM` channel has been renamed to `OPL`.
  - The `SPKR` channel has been renamed to `PCSPEAKER`.
  - The sample rate column has been removed (it served no useful purpose, and the displayed values were often technically correct but misleading).


### 3.7. <a name='NukedOPL'></a>"One OPL mode to rule them all"

NukedOPL has long been the default OPL mode in Staging. As it's basically a bit-perfect emulation of the [Yamaha YMF262 OPL3 chip](https://en.wikipedia.org/wiki/Yamaha_OPL#OPL3), and it runs fast enough even on low-end hardware such as the Raspberry Pi 4, all other less accurate OPL emulation modes have been removed.


### 3.8. <a name='ReloadShader'></a>Shortcut to reload current shader

As DOSBox Staging currently lacks a shader preset system, tweaking shader parameters can only be accomplished by making changes to the shader source files themselves. Previously, you had to restart DOSBox to see the effects of such changes, which made fine-tuning shaders quite cumbersome, to say the least.

Now you can just use the **Ctrl + F2** shortcut (**Command + F2** on macOS) to
reload the current shader any time. Progress! :sunglasses:


### 3.9. <a name='CgaColorOverrides'></a>Override default CGA palette

Now it is possible to override the default, canonical interpretation of the
16-colour CGA/EGA RGBI palette. The feature overrides the CGA colours in any
CGA/EGA-like mode, so it even works in CGA/EGA modes on an emulated VGA card,
or on the Tandy.

A number of presets have been included (e.g. Amiga and Atari ST colours for
Sierra games, and various CGA/EGA monitor emulations), and you can specify
custom palettes as well. Make sure to check out the description of the
`cga_colors` config parameter for the list of available presets (you can read
more about them
[here](https://github.com/dosbox-staging/dosbox-staging/pull/1794)).

TODO images

[defender of the crown]

[gold rush]

[zak]



##  4. <a name='TranslationUpdates'></a>Translation Updates

TODO


##  5. <a name='Bugfixes'></a>Bugfixes

TODO


##  6. <a name='Contributors'></a>Contributors

TODO


##  7. <a name='ThankYou'></a>Thank You

We are extremely grateful for all contributions, including the invaluable improvements merged in from the DOSBox project.
